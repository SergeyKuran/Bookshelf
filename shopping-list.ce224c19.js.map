{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/shoplist.js","src/js/storage-methods.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","node_modules/@parcel/runtime-js/lib/runtime-9c5c1cfb8e01f9b6.js","node_modules/@parcel/runtime-js/lib/runtime-d18da90cb7be7ea2.js","node_modules/@parcel/runtime-js/lib/runtime-0df202fbf75a9678.js","node_modules/@parcel/runtime-js/lib/runtime-e3fd687143b371f0.js","node_modules/@parcel/runtime-js/lib/runtime-da0491353072a908.js","node_modules/@parcel/runtime-js/lib/runtime-43c9e31c6bf24b87.js","node_modules/@parcel/runtime-js/lib/runtime-fd76f94a5a09481d.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import localStoragemethod from '../js/storage-methods';\nimport svgDeleteUrl from '../images/sprite.svg';\nimport amzonimg1 from '../images/shoplist/amazon1x.png';\nimport amzonimg2 from '../images/shoplist/amazon2x.png';\nimport appleimg1 from '../images/shoplist/apple1x.png';\nimport appleimg2 from '../images/shoplist/apple2x.png';\nimport bookshopimg1 from '../images/shoplist/bookshop1x.png';\nimport bookshopimg2 from '../images/shoplist/bookshop2x.png';\n\nconst bookListEl = document.querySelector('.shoplist__cards');\nconst notificationContainerEl = document.querySelector('.shoplist-info');\nconst shoppingTitle = document.querySelector('.shoplist-title');\n\nlet bookList = localStoragemethod.load('books');\n\nlet currentPage = 1;\nlet itemsPerPage = 3;\nlet bookCount = bookList.length;\n\nlet pagination = getPagination(bookCount, itemsPerPage);\n\tpagination.on('beforeMove', event => {\n\tcurrentPage = event.page;\n\trenderBooks(bookList, event.page);\n});\n\nrenderBooks(bookList, currentPage);\n\nfunction renderBooks(data, page = 1) {\n\tconst startIndex = (page - 1) * itemsPerPage;\n\tconst endIndex = startIndex + itemsPerPage;\n\tlet currentData = data.slice(startIndex, endIndex);\n\n\tif (currentData.length) {\n\t\tremoveEmptyNotificationContainer();\n\n\t\tconst markup = currentData\n\t\t\t.map(\n\t\t\t\t({\n\t\t\t\t\t_id,\n\t\t\t\t\tbook_image,\n\t\t\t\t\tauthor,\n\t\t\t\t\tbook_image_width,\n\t\t\t\t\tbook_image_height,\n\t\t\t\t\ttitle,\n\t\t\t\t\tlist_name,\n\t\t\t\t\tdescription,\n\t\t\t\t\tbuy_links: [amazon, apple, , , bookshop],\n\t\t\t\t}) => {\n\t\t\t\t\treturn `<li class=\"shopinlist__card data-id=\"${_id}\">\n\t\t\t\t\t<div class=\"shopinlist__block\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"shopinlist__thumb\">\n\t\t\t\t\t\t\t\t<img src=\"${book_image}\" alt=\"${list_name}\" class=\"shopinlist__book-img\" width=\"${book_image_width}\" height=\"${book_image_height}\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class=\"shopinlist__book-author\">${author}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"shopinlist__wrap\">\n\t\t\t\t\t\t\t<h2 class=\"shopinlist__title\">${title}</h2>\n\t\t\t\t\t\t\t<p class=\"shopinlist__category\">${cutNameCategory(list_name)}</p>\n\t\t\t\t\t\t\t<p class=\"shopinlist__book-description--tablet\">${description}</p>\n\t\t\t\t\t\t\t<ul class=\"shopinlist__shops\">\n\t\t\t\t\t\t\t\t<li class=\"shopinlist__shop\">\n\t\t\t\t\t\t\t\t\t<a href=\"${amazon.url}\" class=\"shopinlist__shop-link\" target=\"_blank\" crossorigin=\"anonymous\" rel=\"noopener noreferrer\" aria-label=\"Amazon-book site\">\n\t\t\t\t\t\t\t\t\t<img srset=\"${amzonimg1} 1x, ${amzonimg2} 2x\" src=\"${amzonimg1}\" alt=\"${amazon.name}\" class=\"shopinlist__shop-img\" width=\"48\" height=\"15\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li class=\"shopinlist__shop\">\n\t\t\t\t\t\t\t\t\t<a href=\"${apple.url}\" class=\"shopinlist__shop-link\" target=\"_blank\" crossorigin=\"anonymous\" rel=\"noopener noreferrer\" aria-label=\"Apple-book site\">\n\t\t\t\t\t\t\t\t\t<img srset=\"${appleimg1} 1x, ${appleimg2} 2x\" src=\"${appleimg1}\" alt=\"${apple.name}\" class=\"shopinlist__shop-img\" width=\"28\" height=\"27\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li class=\"shopinlist__shop\">\n\t\t\t\t\t\t\t\t\t<a href=\"${bookshop.url}\" class=\"shopinlist__shop-link\" target=\"_blank\" crossorigin=\"anonymous\" rel=\"noopener noreferrer\" aria-label=\"Book-shop site\">\n\t\t\t\t\t\t\t\t\t<img srset=\"${bookshopimg1} 1x, ${bookshopimg2} 2x\" src=\"${bookshopimg1}\" alt=\"${bookshop.name}\" class=\"shopinlist__shop-img\" width=\"32\" height=\"30\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t<div class=\"shopinlist__wrap-shops--tablet\">\n\t\t\t\t\t\t\t<p class=\"shopinlist__bookauthor--tablet\">${author}</p>\n\t\t\t\t\t\t\t<ul class=\"shopinlist__shops--tablet\">\n\t\t\t\t\t\t\t\t<li class=\"shopinlist__shop\">\n\t\t\t\t\t\t\t\t\t<a href=\"${amazon.url}\" class=\"shopinlist__shop-link\" target=\"_blank\" crossorigin=\"anonymous\" rel=\"noopener noreferrer\" aria-label=\"Amazon-book site\">\n\t\t\t\t\t\t\t\t\t<img srset=\"${amzonimg1} 1x, ${amzonimg2} 2x\" src=\"${amzonimg1}\" alt=\"${amazon.name}\" class=\"shopinlist__shop-img\" width=\"48\" height=\"15\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li class=\"shopinlist__shop\">\n\t\t\t\t\t\t\t\t\t<a href=\"${apple.url}\" class=\"shopinlist__shop-link\" target=\"_blank\" crossorigin=\"anonymous\" rel=\"noopener noreferrer\" aria-label=\"Apple-book site\">\n\t\t\t\t\t\t\t\t\t<img srset=\"${appleimg1} 1x, ${appleimg2} 2x\" src=\"${appleimg1}\" alt=\"${apple.name}\" class=\"shopinlist__shop-img\" width=\"28\" height=\"27\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li class=\"shopinlist__shop\">\n\t\t\t\t\t\t\t\t\t<a href=\"${bookshop.url}\" class=\"shopinlist__shop-link\" target=\"_blank\" crossorigin=\"anonymous\" rel=\"noopener noreferrer\" aria-label=\"Book-shop site\">\n\t\t\t\t\t\t\t\t\t<img srset=\"${bookshopimg1} 1x, ${bookshopimg2} 2x\" src=\"${bookshopimg1}\" alt=\"${bookshop.name}\" class=\"shopinlist__shop-img\" width=\"32\" height=\"30\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button type=\"button\" class=\"shopinlist__btn\" arial-label=\"Delete the book from shopping list\">\n\t\t\t\t\t\t<svg class=\"shopinlist__btn-icon\" width=\"15\" height=\"15\">\n\t\t\t\t\t\t\t<use href=\"${svgDeleteUrl}#icon-dump\"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button\n\t\t\t\t\t<p class=\"shopinlist__book-description\">${description}</p>\n\t\t\t</li>`;\n\t\t\t\t}\n\t\t).join('');\n\t\tbookListEl.innerHTML = markup;\n\t\tconsole.log(markup)\n\t\tbookListEl.addEventListener('click', onBasketClick);\n\t} else {\n\t\tpasteEmptyNotificationContainer();\n\t}\n}\n\nfunction pasteEmptyNotificationContainer() {\n\tbookListEl.innerHTML = '';\n\tnotificationContainerEl.classList.add('js-empty');\n\tshoppingTitle.style.marginBottom = '140px';\n}\n\nfunction removeEmptyNotificationContainer() {\n\tnotificationContainerEl.classList.remove('js-empty');\n\tshoppingTitle.style.marginBottom = '';\n\tremoveEventListener('click', onBasketClick);\n}\n\nfunction cutNameCategory(name) {\n\tif (window.innerWidth <= 768) {\n\t\tif (name.length > 20) {\n\t\t\treturn name.substring(0, 20) + '...';\n\t\t}\n\t\treturn name;\n\t}\n\treturn name;\n}\n\nfunction onBasketClick(event) {\n\tconst target = event.target.closest('.shopinlist__btn');\n\tconst page = pagination.getCurrentPage();\n\n\tif (!target) {\n\t\treturn;\n\t}\n\tconst bookEl = target.closest('.shopinlist__btn').closest('.shopinlist__card');\n\tconst seekedId = bookEl.dataset.id.trim();\n\n\tconst removedElIndexFromStorage = bookList.findIndex(item => item._id === seekedId);\n\n\tbookList.splice(removedElIndexFromStorage, 1);\n\tlocalStoragemethod.save(books, bookList);\n\n\tbookCount = bookList.length;\n\tpagination.setTotalItems(bookCount);\n\tpagination.movePageTo(page);\n\n\tif (bookListEl.childNodes.length === 0) {\n\t\tpagination.movePageTo(currentPage - 1);\n\t}\n}\n\n","const save = (key, value) => {\n\ttry {\n\t\tconst serialStatus = JSON.stringify(value);\n\t\tlocalStorage.setItems(key, serialStatus);\n\t} catch (error) {\n\t\tconsole.error('Set stutus error:', error.message);\n\t}\n};\n\nconst load = key => {\n\ttry {\n\t\tconst serialStatus = localStorage.getItem(key);\n\t\treturn serialStatus === null ? [] : JSON.parse(serialStatus);\n\t} catch (error) {\n\t\tconsole.error('Get stutus error:', error.message);\n\t}\n};\n\nconst remove = key => {\n\ttry {\n\t\tlocalStorage.removeItem(key);\n\t} catch (error) {\n\t\tconsole.error('Remove stutus error:', error.message);\n\t}\n};\n\nexport default {\n\tsave,\n\tload,\n\tremove,\n};","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1StS0\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"igOR5\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cLJUC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"38YEC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iYgR8\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kLMPf\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7uvQu\\\":\\\"shopping-list.ce224c19.js\\\",\\\"lp5u4\\\":\\\"sprite.7f474b9c.svg\\\",\\\"1StS0\\\":\\\"amazon1x.b8fa90cb.png\\\",\\\"igOR5\\\":\\\"amazon2x.edefe29e.png\\\",\\\"cLJUC\\\":\\\"apple1x.5a9f17e3.png\\\",\\\"38YEC\\\":\\\"apple2x.54474d7d.png\\\",\\\"iYgR8\\\":\\\"bookshop1x.91914384.png\\\",\\\"kLMPf\\\":\\\"bookshop2x.fbbde057.png\\\"}\"));"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$4PVUM","parcelRequire","$ff584b7a283f130a$var$bookListEl","document","querySelector","$ff584b7a283f130a$var$notificationContainerEl","$ff584b7a283f130a$var$shoppingTitle","$ff584b7a283f130a$var$bookList","default","load","$ff584b7a283f130a$var$currentPage","$ff584b7a283f130a$var$bookCount","$ff584b7a283f130a$var$pagination","getPagination","$ff584b7a283f130a$var$renderBooks","data","page","startIndex","endIndex","currentData","slice","classList","remove","style","marginBottom","removeEventListener","$ff584b7a283f130a$var$onBasketClick","markup","map","_id","book_image","author","book_image_width","book_image_height","title","list_name","description","buy_links","amazon","apple","bookshop","name","window","innerWidth","substring","$ff584b7a283f130a$var$cutNameCategory","url","$parcel$interopDefault","$kSibX","$2iOZk","$8zDEN","$3KaUB","$dZQ1Q","$8EpWk","$e5EMj","join","innerHTML","console","log","addEventListener","add","event","target","closest","getCurrentPage","seekedId","dataset","trim","removedElIndexFromStorage","findIndex","item","splice","save","books","setTotalItems","movePageTo","childNodes","on","$3858d989b8497a97$export$2e2bcd8739ae039","key","value","serialStatus","JSON","stringify","localStorage","setItems","error","message","getItem","parse","removeItem","module","exports","URL","resolve","import","meta","toString","register"],"version":3,"file":"shopping-list.ce224c19.js.map"}