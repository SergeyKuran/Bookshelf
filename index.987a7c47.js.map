{"mappings":"AAAA,IAAMA,kBACJ,0DACIC,kBACJ,+DAEIC,WAAaC,SAASC,cAAc,qBACpCC,QAAUF,SAASC,cAAc,iBAcvC,SAASE,QAAQC,GACf,GAA8B,SAA1BA,EAAEC,OAAOC,UAAU,GAAvB,CAGA,IAAMC,EAAeH,EAAEC,OAAOG,YAAYC,MAAM,KAC1CC,EAAkBH,EACrBI,OAAO,EAAGJ,EAAaK,OAAS,GAChCC,KAAK,KACFC,EAAkBP,EAAaQ,IAAG,GACxCb,QAAQc,mBACN,cACA,6BAC6CC,OADhBP,EAAgB,qDACgBO,OAAhBH,EAAgB,+BAI/Df,WACGE,cAAc,wBACdK,UAAUY,OAAO,uBACpBd,EAAEC,OAAOC,UAAUa,IAAI,uBACvBC,MAAMtB,kBAAoBM,EAAEC,OAAOG,aAChCa,MAAK,SAAAC,G,OAAQA,EAAKC,M,IAClBF,MAAK,SAAAG,GACJtB,QAAQuB,UAAYC,YAAYF,E,GArBlC,C,CAyBJ,SAASE,YAAYF,GACnB,OAAOA,EACJG,KACC,SAAAC,G,IAAGC,EAAMD,EAANC,OAAQC,EAAUF,EAAVE,WAAYC,EAAKH,EAALG,M,MAAY,0DAEad,OAApBa,EAAW,WACfb,OADwBc,EAAM,oCAE3Bd,OADHc,EAAM,0CACId,OAAPY,EAAO,qB,IAInChB,KAAK,G,CAlDVO,MAAMvB,mBACHwB,MAAK,SAAAC,G,OAAQA,EAAKC,M,IAClBF,MAAK,SAAAG,GACJ,IACMQ,EADUR,EAAKS,MAAK,SAACC,EAAGC,G,OAAMD,EAAEE,UAAUC,cAAcF,EAAEC,U,IAE7DT,KAAI,SAAAC,G,IAAGQ,EAASR,EAATQ,U,MAAgB,oBAA8BnB,OAAVmB,EAAU,Q,IACrDvB,KAAK,IACRd,WAAWiB,mBAAmB,YAAagB,E,IAG/CjC,WAAWuC,iBAAiB,QAASnC","sources":["src/js/category.js"],"sourcesContent":["const LINK_All_CATEGORY =\n  'https://books-backend.p.goit.global/books/category-list';\nconst LINK_ONE_CATEGORY =\n  'https://books-backend.p.goit.global/books/category?category=';\n\nconst categoryEl = document.querySelector('.js-list-category');\nconst booksEl = document.querySelector('.js-all-books');\n\nfetch(LINK_All_CATEGORY)\n  .then(resp => resp.json())\n  .then(data => {\n    const sortArr = data.sort((a, b) => a.list_name.localeCompare(b.list_name));\n    const arr = sortArr\n      .map(({ list_name }) => `<li class=\"list\">${list_name}</li>`)\n      .join('');\n    categoryEl.insertAdjacentHTML('beforeend', arr);\n  });\n\ncategoryEl.addEventListener('click', onClick);\n\nfunction onClick(e) {\n  if (e.target.classList[0] !== 'list') {\n    return;\n  }\n  const categoryName = e.target.textContent.split(' ');\n  const categoryNameOne = categoryName\n    .splice(0, categoryName.length - 1)\n    .join(' ');\n  const categoryNameTwo = categoryName.at(-1);\n  booksEl.insertAdjacentHTML(\n    'beforebegin',\n    `<h2 class=\"category_name\">${categoryNameOne}\n      <span class=\"category_name color_violet\">${categoryNameTwo}\n      </span>\n    </h2>`\n  );\n  categoryEl\n    .querySelector('.js-current-category')\n    .classList.remove('js-current-category');\n  e.target.classList.add('js-current-category');\n  fetch(LINK_ONE_CATEGORY + e.target.textContent)\n    .then(resp => resp.json())\n    .then(data => {\n      booksEl.innerHTML = markupBooks(data);\n    });\n}\n\nfunction markupBooks(data) {\n  return data\n    .map(\n      ({ author, book_image, title }) => `\n  <li class=\"book\">\n    <img class=\"book__img\" src=\"${book_image}\" alt=\"${title}\">\n    <h2 class=\"book__title\">${title}</h2>\n    <h3 class=\"book__subtitle\">${author}</h3>\n  </li>\n  `\n    )\n    .join('');\n}\n"],"names":["LINK_All_CATEGORY","LINK_ONE_CATEGORY","categoryEl","document","querySelector","booksEl","onClick","e","target","classList","categoryName","textContent","split","categoryNameOne","splice","length","join","categoryNameTwo","at","insertAdjacentHTML","concat","remove","add","fetch","then","resp","json","data","innerHTML","markupBooks","map","param","author","book_image","title","arr","sort","a","b","list_name","localeCompare","addEventListener"],"version":3,"file":"index.987a7c47.js.map"}