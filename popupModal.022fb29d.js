function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var o=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;o.register("100X1",(function(e,t){var n=o("2OfAl"),r=o("bja6l");const s=new(0,n.AxiosApi),i="books",l=document.createElement("div");l.classList.add("backdrop");const a=document.querySelector(".js-all-books");let c=JSON.parse(localStorage.getItem(i))||[],p=null;const d=()=>{try{return JSON.parse(localStorage.getItem(i))??[]}catch(e){return console.error(e),[]}},u=e=>{"Escape"===e.key&&(document.body.removeChild(l),document.body.style.overflow="visible",document.removeEventListener("keydown",u))};function g(e){e.target&&(document.body.removeChild(l),document.body.style.overflow="visible",document.removeEventListener("keydown",u))}function m(e){e.target.classList.contains("backdrop")&&(document.body.removeChild(l),document.body.style.overflow="visible",document.removeEventListener("keydown",u))}function b(e){return d().includes(e)}a.addEventListener("click",(async function(e){if(!e.target.parentElement.classList.contains("js-book"))return;p=e.target.parentElement.dataset.id,document.addEventListener("keydown",u);let t=b(p)?"REMOVE FROM THE SHOPPING LIST":"ADD TO SHOPPING LIST";try{const e=(await s.getShops(p)).data;l.innerHTML=(0,r.createPopupCard)(e,t);let o=l.querySelector(".pop-up__congratulations");b(p)?o.classList.remove("hidden"):o.classList.add("hidden"),document.body.appendChild(l),document.body.style.overflow="hidden";l.querySelector(".js-add-storage").addEventListener("click",(e=>{!function(e,t){t.target.blur();const o=l.querySelector(".pop-up__congratulations");if(b(e))return console.log(e),o.classList.add("hidden"),n=e,console.log(n),c=d().filter((e=>e!==n)),localStorage.setItem(i,JSON.stringify(c)),t.target.textContent="ADD TO SHOPPING LIST",void console.log("its evtTargetTextCont: ",t.target.textContent);o.classList.remove("hidden"),c.push(e),localStorage.setItem(i,JSON.stringify(c)),t.target.textContent="REMOVE FROM THE SHOPPING LIST";var n}(p,e)}));l.querySelector(".js-popup-close").addEventListener("click",g),l.addEventListener("click",m)}catch(e){console.log(e)}}))})),o.register("2OfAl",(function(t,n){e(t.exports,"AxiosApi",(function(){return s}));var r=o("2shzp");class s{#e="https://books-backend.p.goit.global/books/";async getShops(e){const t=`${this.#e}${e}`;return await r.default.get(t)}}})),o.register("bja6l",(function(t,n){e(t.exports,"createPopupCard",(function(){return i}));var r=o("a1pCD");const s=["Amazon","Apple Books","Bookshop"];function i({author:e,book_image:t,title:n,buy_links:i,description:l},a){return`\n      <div class="pop-up scrollable">\n        <div class="pop-up__book-info">\n          <img class="pop-up__img" src="${t}" alt="${n}">\n          <div class="pop-up__description">\n            <h2 class="pop-up__book-name">${n}</h2>\n            <h2 class="pop-up__book-author">${e}</h2>\n            <p class="pop-up__review">${l}Description</p>\n            <ul class="stores-list">${c=i,s.map((e=>c.find((({name:t})=>t===e)))).map((({name:e,url:t},o)=>`\n      <li class="stores-list__item">\n        <a href="${t}" target="_blank" rel="noopener noreferrer nofollow">\n          <img class="stores-img" src="${new URL(r.bookShopsIcons[o].x1,"file:///src/js/popup/marcupForPopUp.js")}" alt="${e}" width="${r.bookShopsIcons[o].width}" height="${r.bookShopsIcons[o].height}">\n        </a>\n      </li>`)).join("")}</ul>\n          </div>\n        </div>\n        <div class="pop-up__btn">\n        <button class="action-button pop-up__action-button js-add-storage">${a}</button>\n        <p class="pop-up__congratulations">Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>\n        </div>\n        <button class="js-popup-close close-button" type="button">\n          <img src="${new URL(o("abjTm"))}" width="24" height="24">\n        </button>\n      </div>`;var c}})),o.register("a1pCD",(function(n,r){e(n.exports,"bookShopsIcons",(function(){return d}));var s=o("kSibX"),i=o("2iOZk"),l=o("8zDEN"),a=o("3KaUB"),c=o("dZQ1Q"),p=o("8EpWk");const d=[{x1:t(s),x2:t(i),width:"62",height:"19"},{x1:t(l),x1:t(a),width:"33",height:"32"},{x1:t(c),x1:t(p),width:"38",height:"36"}]})),o.register("kSibX",(function(e,t){e.exports=new URL(o("kyEFX").resolve("1StS0"),import.meta.url).toString()})),o.register("2iOZk",(function(e,t){e.exports=new URL(o("kyEFX").resolve("igOR5"),import.meta.url).toString()})),o.register("8zDEN",(function(e,t){e.exports=new URL(o("kyEFX").resolve("cLJUC"),import.meta.url).toString()})),o.register("3KaUB",(function(e,t){e.exports=new URL(o("kyEFX").resolve("38YEC"),import.meta.url).toString()})),o.register("dZQ1Q",(function(e,t){e.exports=new URL(o("kyEFX").resolve("iYgR8"),import.meta.url).toString()})),o.register("8EpWk",(function(e,t){e.exports=new URL(o("kyEFX").resolve("kLMPf"),import.meta.url).toString()})),o.register("abjTm",(function(e,t){e.exports=new URL(o("kyEFX").resolve("d81E4"),import.meta.url).toString()}));
//# sourceMappingURL=popupModal.022fb29d.js.map
