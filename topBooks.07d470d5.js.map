{"mappings":"uaAAA,IAAAA,EAAAC,EAAA,S,0BAIA,MAAMC,EAAO,CACXC,GAAIC,SAASC,cAAc,iBAC3BC,gBAAiBF,SAASC,cAAc,2BAI1C,IAAIE,GAAgB,EAEpBC,eAAeC,IACb,MAAMC,EAAS,IAAI,EAAAC,EAAAC,QAAOV,EAAKI,gBAAiB,oBAEhD,IACEI,EAAOG,OACP,MAEMC,SAFc,EAAAd,EAAAe,YAAW,yDAEXC,IAAIC,EAAAC,yBAAyBC,KAAK,IAEtDjB,EAAKC,GAAGiB,UAAUC,OAAO,kBACzBnB,EAAKC,GAAGmB,UAAYR,C,CACpB,MAAOS,GACPC,QAAQC,IAAIF,E,CACb,QACKhB,IACFmB,EAAUC,OACVpB,GAAgB,GAElBG,EAAOiB,M,EAIX,MAAMD,EAAY,IAAI,EAAAf,EAAAC,QACpBR,SAASC,cAAc,UACvB,kBAEFI,I,IAEAmB,EAAenB,C,uFCxCf,IAAAoB,EAAA5B,EAAA,SAQAO,eAAesB,EAAWC,GAExB,MAAMC,QAAiBH,EAAAI,QAAMC,IAAI,GAAGH,KAEpC,aADmBC,EAASG,I,qGCX9B,IAAAC,EAAAnC,EAAA,SAOA,MASMoC,EAA0B,EAACC,UAAEA,EAASC,MAAEA,GAASC,IAC9C,8EAEiCF,kDAZb,CAAAC,GAC3BA,EAAMvB,KAAIyB,IAAQ,EAAAL,EAAAM,gBAAeD,KAAOtB,KAAK,IAYNwB,CAAqBJ,kHAC0CD,6B,2FChBxG,MAAMM,EAAiB,EAACC,OAAEA,EAAMC,WAAEA,EAAUC,MAAEA,EAAKC,IAAEA,KAC5C,mDACuCA,8DACQA,8CAChBF,WAAoBC,4HAG1BA,8CACGF,iB","sources":["src/js/api/topBooks.js","src/js/api/getRequest.js","src/js/topBooksContainerMarcup.js","src/js/bookItemMarcup.js"],"sourcesContent":["import { getRequest } from '../api/getRequest';\nimport { topBooksContainerMarcup } from '../topBooksContainerMarcup';\nimport { Loader } from '../loaderClass';\n\nconst refs = {\n  ul: document.querySelector('.js-all-books'),\n  sectionCategory: document.querySelector('.category > .container'),\n};\n\nconst URL_TOP_BOOKS = `https://books-backend.p.goit.global/books/top-books?`;\nlet firstLoadPage = true;\n\nasync function getBooks() {\n  const loader = new Loader(refs.sectionCategory, 'loader-container');\n\n  try {\n    loader.show();\n    const books = await getRequest(`${URL_TOP_BOOKS}`);\n\n    const array = books.map(topBooksContainerMarcup).join('');\n\n    refs.ul.classList.remove('category__list');\n    refs.ul.innerHTML = array;\n  } catch (error) {\n    console.log(error);\n  } finally {\n    if (firstLoadPage) {\n      preLoader.hide();\n      firstLoadPage = false;\n    }\n    loader.hide();\n  }\n}\n\nconst preLoader = new Loader(\n  document.querySelector('header'),\n  'preloader-page'\n);\ngetBooks();\n\nexport default getBooks;\n","import axios from 'axios';\n\n/**\n *Робить запит на бекенд\n * @param {link} string посилання на бек\n * @return {data} масив об'єктів\n */\n\nasync function getRequest(link) {\n  // try {\n  const response = await axios.get(`${link}`);\n  const data = await response.data;\n  return data;\n  // } catch (err) {\n  // console.log(err);\n  // }\n}\n\nexport { getRequest };\n","import { bookItemMarcup } from './bookItemMarcup';\n\n/**\n * Повертає строку з розміткою книг\n * @param {Array} books - масив найпопулярніших книг певної категорії\n * @returns {string} строка з розміткою книг\n */\nconst createTopBooksMarcup = books =>\n  books.map(book => bookItemMarcup(book)).join('');\n\n/**\n * Повертає розмітку контейнера з найпопулярнішими книгами певної категорії\n * @param {object}\n * @param {node} - елемент куди буде рендеритись розмітка\n * @returns {string} - розмітка контейнера\n */\nconst topBooksContainerMarcup = ({ list_name, books }, node) => {\n  return `\n<li class=\"category-top-books\">\n  <h2 class=\"category-top-books__title\">${list_name}</h2>\n  <ul class=\"category-top-books__list\">${createTopBooksMarcup(books)}</ul>\n  <button class=\"action-button category-top-books__action-button js-action-button\" data-categoryName=\"${list_name}\">See more</button>\n</li>`;\n};\n\nexport { topBooksContainerMarcup };\n","/**\n * Функція повертає розмітку однієї картки книги\n * @param {object} - об'єкт параметрів книги\n * @returns {string} - розмітка однієї картки книги\n */\nconst bookItemMarcup = ({ author, book_image, title, _id }) => {\n  return `\n  <li class=\"category__book js-book\" data-id=\"${_id}\">\n    <div class=\"category__image-box js-book\" data-id=\"${_id}\">\n      <img class=\"category__img\" src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\">\n      <p class=\"category__image-overlay\">Quick view</p>\n    </div>\n    <h2 class=\"category__title\">${title}</h2>\n    <h3 class=\"category__subtitle\">${author}</h3>\n  </li>`;\n};\n\nexport { bookItemMarcup };\n"],"names":["$8ZCep","parcelRequire","$5541c63179746b0e$var$refs","ul","document","querySelector","sectionCategory","$5541c63179746b0e$var$firstLoadPage","async","$5541c63179746b0e$var$getBooks","loader","$7StVb","Loader","show","array","getRequest","map","$6UXZc","topBooksContainerMarcup","join","classList","remove","innerHTML","error","console","log","$5541c63179746b0e$var$preLoader","hide","$5541c63179746b0e$export$2e2bcd8739ae039","$2shzp","$68c1ad3612dafd60$export$e17608451341e929","link","response","default","get","data","$fQD9h","$50968109a3e8629b$export$58692f89bd9ad3af","list_name","books","node","book","bookItemMarcup","$50968109a3e8629b$var$createTopBooksMarcup","$b89a147a9ceb6e71$export$8848aaaa9862edb","author","book_image","title","_id"],"version":3,"file":"topBooks.07d470d5.js.map"}