{"mappings":"sSAAA,IAAAA,EAAAC,EAAA,S,oDAMA,MAAMC,EAAO,CACXC,eAAgBC,SAASC,cAAc,uBACvCC,QAASF,SAASC,cAAc,iBAChCE,eAAgBH,SAASC,cAAc,sBAmDzC,SAASG,IACHC,OAAOC,WAAa,MACtBR,EAAKK,eAAeI,eAAe,CACjCC,SAAU,U,CAKhB,SAASC,EAA2BC,GAClCZ,EAAKC,eACFE,cAAc,wBACdU,UAAUC,OAAO,uBACpBF,EAAOC,UAAUE,IAAI,sB,CAQvB,SAASC,EAAYC,GACnB,OAAOA,EAAKC,IAAIC,EAAAC,gBAAgBC,KAAK,G,CAOvC,SAASC,EAAmBC,GAC1B,MAAMC,EAAeD,EAAKE,MAAM,KAC1BC,EAAkBF,EACrBG,OAAO,EAAGH,EAAaI,OAAS,GAChCP,KAAK,KACFQ,EAAkBL,EAAaM,IAAG,GAExC9B,EAAKK,eAAe0B,YAAcL,EAAkB,IACpD1B,EAAKK,eAAe2B,mBAClB,YACA,sDAAsDH,W,EAtF1D,EAAA/B,EAAAmC,WAAiBC,MAAKjB,IACpB,MAAMkB,EAAUlB,EAAKmB,MAAK,CAACC,EAAGC,IAAMD,EAAEE,UAAUC,cAAcF,EAAEC,aAChEvC,EAAKC,eAAe+B,mBAClB,YACoBG,EAqCnBjB,KACC,EAACqB,UAAEA,KACD,4CAA4CA,WAE/ClB,KAAK,IAxCP,IAGHrB,EAAKC,eAAewC,iBAAiB,SAErCC,eAAuBC,GACjBA,EAAE/B,OAAOC,UAAU+B,SAAS,gBAC9BjC,EAA2BgC,EAAE/B,QAC7BN,IACAgB,EAAmBqB,EAAE/B,OAAOmB,aAE5B/B,EAAKI,QAAQyC,UAAY7B,QACjB,EAAA8B,EAAAb,SAAYU,EAAE/B,OAAOmB,cAE7B/B,EAAKI,QAAQS,UAAUE,IAAI,mBAClB4B,EAAE/B,OAAOC,UAAU+B,SAAS,sBACrCjC,EAA2BgC,EAAE/B,QAC7BN,IACAgB,EAAmB,sBAEnBtB,EAAKI,QAAQyC,UAAYE,EAAAC,aACtB9B,KAAI+B,IAAY,EAAAC,EAAAC,yBAAwBF,EAAUjD,EAAKI,WACvDiB,KAAK,IAERrB,EAAKI,QAAQS,UAAUC,OAAO,mBAGhC,M,IA2DFd,EAAKI,QAAQqC,iBAAiB,SAE9BC,eAAoBU,GAClB,IAAKA,EAAExC,OAAOC,UAAU+B,SAAS,oBAC/B,OAEF,MAAMS,EAAeD,EAAExC,OAAO0C,QAAQC,aAElChD,OAAOC,WAAa,KACtBR,EAAKK,eAAeI,eAAe,CACjCC,SAAU,WAGZH,OAAOiD,OAAO,CACZC,IAAK,EACL/C,SAAU,WAIdY,EAAmB+B,GAEnB,IAAIrD,EAAKC,eAAeyD,UAAUC,SAAQhB,IACpCA,EAAEZ,cAAgBsB,EACpBV,EAAE9B,UAAUE,IAAI,uBACP4B,EAAE9B,UAAU+B,SAAS,wBAC9BD,EAAE9B,UAAUC,OAAO,sBAAsB,IAI7Cd,EAAKI,QAAQyC,UAAY7B,QAAkB,EAAA8B,EAAAb,SAAYoB,IACvDrD,EAAKI,QAAQS,UAAUE,IAAI,iB,uFCrI7B,IAAA6C,EAAA7D,EAAA,S,IAaA8D,EAJA,WACE,OAAOD,EAAA3B,QAAM6B,IAPb,2DAOoC5B,MAAK6B,GAAQA,EAAK9C,M,qFCVxD,IAAA2C,EAAA7D,EAAA,S,IAcAiE,EAJAtB,eAA2BlB,GACzB,OAAOoC,EAAA3B,QAAM6B,IARb,+DAQqCtC,GAAcU,MAAK6B,GAAQA,EAAK9C,M","sources":["src/js/category.js","src/js/api/categoryList.js","src/js/api/categoryBooks.js"],"sourcesContent":["import getAllCategory from './api/categoryList';\nimport getAllBooks from './api/categoryBooks';\nimport { topBooksContainerMarcup } from './topBooksContainerMarcup';\nimport { topBooksData } from './testFiles/testData(Yaroslav)';\nimport { bookItemMarcup } from './bookItemMarcup';\n\nconst refs = {\n  categoryListEl: document.querySelector('.js-list-categories'),\n  booksEl: document.querySelector('.js-all-books'),\n  categoryNameEl: document.querySelector('.js-category-name'),\n};\n\ngetAllCategory().then(data => {\n  const sortArr = data.sort((a, b) => a.list_name.localeCompare(b.list_name));\n  refs.categoryListEl.insertAdjacentHTML(\n    'beforeend',\n    markupAllCategories(sortArr)\n  );\n});\n\nrefs.categoryListEl.addEventListener('click', onClick);\n\nasync function onClick(e) {\n  if (e.target.classList.contains('js-category')) {\n    changeClassCurrentCategory(e.target);\n    scrollUp();\n    markupNameCategory(e.target.textContent);\n\n    refs.booksEl.innerHTML = markupBooks(\n      await getAllBooks(e.target.textContent)\n    );\n    refs.booksEl.classList.add('category__list');\n  } else if (e.target.classList.contains('js-main-category')) {\n    changeClassCurrentCategory(e.target);\n    scrollUp();\n    markupNameCategory('Best Sellers Books');\n\n    refs.booksEl.innerHTML = topBooksData\n      .map(category => topBooksContainerMarcup(category, refs.booksEl))\n      .join('');\n\n    refs.booksEl.classList.remove('category__list');\n  }\n\n  return;\n}\n/**\n * Markup categories in sidebar\n * @param {Array} arr\n * @returns string\n */\nfunction markupAllCategories(arr) {\n  return arr\n    .map(\n      ({ list_name }) =>\n        `<li class=\"categories__item js-category\">${list_name}</li>`\n    )\n    .join('');\n}\n\nfunction scrollUp() {\n  if (window.innerWidth < 1440) {\n    refs.categoryNameEl.scrollIntoView({\n      behavior: 'smooth',\n    });\n  }\n}\n\nfunction changeClassCurrentCategory(target) {\n  refs.categoryListEl\n    .querySelector('.categories__current')\n    .classList.remove('categories__current');\n  target.classList.add('categories__current');\n}\n\n/**\n * Markup books in main content\n * @param {Array} data\n * @returns String\n */\nfunction markupBooks(data) {\n  return data.map(bookItemMarcup).join('');\n}\n\n/**\n * Markup name category in main content\n * @param {String} name\n */\nfunction markupNameCategory(name) {\n  const categoryName = name.split(' ');\n  const categoryNameOne = categoryName\n    .splice(0, categoryName.length - 1)\n    .join(' ');\n  const categoryNameTwo = categoryName.at(-1);\n\n  refs.categoryNameEl.textContent = categoryNameOne + ' ';\n  refs.categoryNameEl.insertAdjacentHTML(\n    'beforeend',\n    `<span class=\"category_name category__name--violet\">${categoryNameTwo}</span>`\n  );\n}\n\n// ===================test=========================\nrefs.booksEl.addEventListener('click', test);\n\nasync function test(e) {\n  if (!e.target.classList.contains('js-action-button')) {\n    return;\n  }\n  const nameCategory = e.target.dataset.categoryname;\n\n  if (window.innerWidth < 1440) {\n    refs.categoryNameEl.scrollIntoView({\n      behavior: 'smooth',\n    });\n  } else {\n    window.scroll({\n      top: 0,\n      behavior: 'smooth',\n    });\n  }\n\n  markupNameCategory(nameCategory);\n\n  [...refs.categoryListEl.children].forEach(e => {\n    if (e.textContent === nameCategory) {\n      e.classList.add('categories__current');\n    } else if (e.classList.contains('categories__current')) {\n      e.classList.remove('categories__current');\n    }\n  });\n\n  refs.booksEl.innerHTML = markupBooks(await getAllBooks(nameCategory));\n  refs.booksEl.classList.add('category__list');\n}\n","import axios from 'axios';\n\nconst LINK_All_CATEGORY =\n  'https://books-backend.p.goit.global/books/category-list';\n\n/**\n * Get array with all categories\n * @returns Array\n */\nfunction getAllCategory() {\n  return axios.get(LINK_All_CATEGORY).then(resp => resp.data);\n}\n\nexport default getAllCategory;\n","import axios from 'axios';\n\nconst LINK_ONE_CATEGORY =\n  'https://books-backend.p.goit.global/books/category?category=';\n\n/**\n * Get all books with category\n * @param {String} categoryName\n * @returns Array with books\n */\nasync function getAllBooks(categoryName) {\n  return axios.get(LINK_ONE_CATEGORY + categoryName).then(resp => resp.data);\n}\n\nexport default getAllBooks;\n"],"names":["$kMbtw","parcelRequire","$ea48f741b5bc75f2$var$refs","categoryListEl","document","querySelector","booksEl","categoryNameEl","$ea48f741b5bc75f2$var$scrollUp","window","innerWidth","scrollIntoView","behavior","$ea48f741b5bc75f2$var$changeClassCurrentCategory","target","classList","remove","add","$ea48f741b5bc75f2$var$markupBooks","data","map","$fQD9h","bookItemMarcup","join","$ea48f741b5bc75f2$var$markupNameCategory","name","categoryName","split","categoryNameOne","splice","length","categoryNameTwo","at","textContent","insertAdjacentHTML","default","then","sortArr","sort","a","b","list_name","localeCompare","addEventListener","async","e","contains","innerHTML","$jkoa3","$iJ6fU","topBooksData","category","$6UXZc","topBooksContainerMarcup","e1","nameCategory","dataset","categoryname","scroll","top","children","forEach","$2shzp","$f20131177bd8e321$export$2e2bcd8739ae039","get","resp","$e122a076dd7af730$export$2e2bcd8739ae039"],"version":3,"file":"category.cbb01823.js.map"}