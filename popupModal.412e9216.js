var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;e.register("100X1",(function(n,o){var t=e("2OfAl");e("kH8nr");const s=new(0,t.AxiosApi),i="books",l=document.createElement("div"),r=document.querySelector(".js-all-books");let a=[],c=null;function p(e){e.target&&(document.body.removeChild(l),document.removeEventListener("keyup",d))}r.addEventListener("click",(async function(e){c=e.target.parentElement.dataset.id;let n=u(c)?"REMOVE FROM THE SHOPPING LIST":"ADD TO SHOPPING LIST";console.log(n);try{const e=(await s.getShops(c)).data;l.innerHTML=function({author:e,book_image:n,title:o,buy_links:t,list_name:s,description:i}){return`<div class="popup-backdrop">\n  <div class="js-popup popup__body">\n  <div class="popup__container">\n  <button  class="js-popup-close btn__close" type="button">\n        <svg width="16" height="15"></svg>\n        <use href="./images/sprite.svg#icon-x-close"></use>\n        </svg>\n    </button>\n    <div class="popup-book">\n    <div class="popup-book__thumb">\n        <img class="popup-book__img" src="${n}" alt="${o}">\n        </div>\n    <div class="popup-book__info"\n        <h2>${o}</h2>\n        <h3>${e}</h3>\n        <p>${i}</p>\n        <ul class="modal__shops-link">${function(e){const n=e.filter((({name:e})=>"Amazon"===e||"Apple Books"===e||"Bookshop"===e));return n.map((({name:e,url:n})=>`  <li>\n                <a href="${n}" target="_blank" rel="noopener noreferrer nofollow">\n                    <img src="" alt="${e}">\n                </a>\n            </li>`)).join("")}(t)}</ul>\n        </div>\n    </div>\n    <div>\n        <button type="button" class="action-button js-add-storage">add to shoping list</button>\n        <p class="popup__text">text</p>\n    </div>\n    </div>\n    </div>\n    </div>`}(e),document.body.appendChild(l);const n=l.querySelector(".js-add-storage");console.dir(n),n.addEventListener("click",(e=>{!function(e){if(u(e))return void function(e){let n=JSON.parse(localStorage.getItem(i));n=n.filter((n=>n!==e)),localStorage.setItem(i,JSON.stringify(n))}(e);a.push(e),localStorage.setItem(i,JSON.stringify(a)),console.log(a)}(c)}));l.querySelector(".js-popup-close").addEventListener("click",p)}catch(e){console.log(e)}}));const d=e=>{"Escape"===e.key&&(document.body.removeChild(l),document.removeEventListener("keyup",d))};function u(e){return a=JSON.parse(localStorage.getItem(i))??[],!!a.includes(e)}document.addEventListener("keydown",d)})),e.register("2OfAl",(function(n,o){var t,s,i,l;t=n.exports,s="AxiosApi",i=function(){return a},Object.defineProperty(t,s,{get:i,set:l,enumerable:!0,configurable:!0});var r=e("2shzp");class a{#e="https://books-backend.p.goit.global/books/";async getShops(e){const n=`${this.#e}${e}`;return await r.default.get(n)}}})),e.register("kH8nr",(function(e,n){}));
//# sourceMappingURL=popupModal.412e9216.js.map
