{"mappings":"4PAAA,IAAAA,EAAAC,EAAA,S,0BAQA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAAWF,SAASC,cAAc,cAClCE,EAAYH,SAASC,cAAc,aACnCG,EAAWJ,SAASC,cAAc,cAClCI,EAASL,SAASC,cAAc,kBAChCK,EAAWN,SAASC,cAAc,sBAClCM,EAAaP,SAASC,cAAc,kBACpCO,EAAiBR,SAASC,cAAc,uBACxCQ,EAAcT,SAASC,cAAc,oBACrCS,EAAaV,SAASC,cAAc,wBAG1CF,EAAKY,iBAAiB,UAuBtB,SAAkBC,GAChBA,EAAMC,iBACN,MAAMC,EAAOF,EAAMG,cAAcC,SAASF,KAAKG,MACzCC,EAAQN,EAAMG,cAAcC,SAASE,MAAMD,MAC3CE,EAAWP,EAAMG,cAAcC,SAASG,SAASF,MACjDG,GAAO,EAAAvB,EAAAwB,WAGb,GAFAC,EAAWR,EAEY,KAAnBK,EAASF,OAAgC,KAAhBC,EAAMD,MACjCM,MAAM,0CACD,GAAIpB,EAAUqB,UAAUC,SAAS,iBAgBtC,OAfA,EAAA5B,EAAA6B,4BAA2BN,EAAMF,EAAOC,GACrCQ,MAAKC,IACJvB,EAAOmB,UAAUK,IAAI,aACrBC,EAAAC,GAASC,OAAOC,QAAQ,mBAChBnB,IAAO,IAEhBoB,OAAMC,GAAOC,QAAQC,IAAIF,KACzBG,SAAQ,KACPvC,EAAKwC,OAAO,IAEhBhC,EAAWiB,UAAUgB,OAAO,aAC5B/B,EAAYgC,YAAc3B,EAC1BN,EAAegB,UAAUK,IAAI,aAC7BnB,EAAWc,UAAUK,IAAI,kBACzBxB,EAAOmB,UAAUK,IAAI,cAIvB,EAAAhC,EAAA6C,gCAA+BtB,EAAMF,EAAOC,GACzCQ,MAAKgB,IACJ,MACMC,EADOD,EAAeE,KACRC,KACpB,EAAAC,EAAAC,eAAcJ,EAAQ9B,EAAMI,GAC5BX,EAAWiB,UAAUgB,OAAO,aAC5B/B,EAAYgC,YAAc3B,EAC1BN,EAAegB,UAAUK,IAAI,aAC7BnB,EAAWc,UAAUK,IAAI,aACvBxB,EAAOmB,UAAUK,IAAI,YAAY,IAEpCK,OAAMe,IACLb,QAAQC,IAAIY,EAAMC,MACC,8BAAfD,EAAMC,KACRpB,EAAAC,GAASC,OAAOmB,QAAQ,wBAEF,uBAAfF,EAAMC,MACbpB,EAAAC,GAASC,OAAOmB,QAAQ,iBAE1Bf,QAAQC,IAAIY,EAAMG,OAAO,IAE1Bd,SAAQ,KACPvC,EAAKwC,OAAO,G,IAzElBrC,EAASS,iBAAiB,SAc1B,SAAkB0C,GAChBA,EAAExC,iBACFV,EAAUqB,UAAUK,IAAI,iBACxB1B,EAAUsC,YAAc,UACxBrC,EAASoB,UAAUgB,OAAO,UAC1BtC,EAASsB,UAAUK,IAAI,S,IAlBzBzB,EAASO,iBAAiB,SAI1B,SAAkB0C,GAChBA,EAAExC,iBAEFV,EAAUqB,UAAUgB,OAAO,iBAC3BrC,EAAUsC,YAAc,UACxBrC,EAASoB,UAAUK,IAAI,UACvB3B,EAASsB,UAAUgB,OAAO,S,IAT5BlC,EAASK,iBAAiB,SA4E1B,WACEN,EAAOmB,UAAUK,IAAI,aAChBnB,EAAWc,UAAUC,SAAS,cACjCf,EAAWc,UAAUK,IAAI,Y,IA9E7B,IAAIP,EAAW,E","sources":["src/js/autorithation.js"],"sourcesContent":["import {\n  getAuth,\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n} from 'firebase/auth';\nimport { writeUserData } from './firebase';\nimport Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nconst signInEl = document.querySelector('.js-signIn');\nconst submitBtn = document.querySelector('.btn_form');\nconst signUpEl = document.querySelector('.js-signUp');\nconst bdForm = document.querySelector('.backdrop_form');\nconst closeBtn = document.querySelector('.js-modal-closeBtn');\nconst profileBtn = document.querySelector('.Js-profileBtn');\nconst signUpBtnheder = document.querySelector('.Js-signUpBtn-heder');\nconst profileName = document.querySelector('.js-profile-name');\nconst signOutBtn = document.querySelector('.js-logOutBtn-header');\n\n\nform.addEventListener('submit', onSubmit);\nsignInEl.addEventListener('click', onSignIn);\nsignUpEl.addEventListener('click', onSignUp);\ncloseBtn.addEventListener('click', onClose);\nlet userName = '';\n\nfunction onSignUp(e) {\n  e.preventDefault();\n\n  submitBtn.classList.remove('Js-signIn-btn');\n  submitBtn.textContent = 'SIGN UP';\n  signUpEl.classList.add('curent');\n  signInEl.classList.remove('curent');\n}\n\nfunction onSignIn(e) {\n  e.preventDefault();\n  submitBtn.classList.add('Js-signIn-btn');\n  submitBtn.textContent = 'SIGN IN';\n  signUpEl.classList.remove('curent');\n  signInEl.classList.add('curent');\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const name = event.currentTarget.elements.name.value;\n  const email = event.currentTarget.elements.email.value;\n  const password = event.currentTarget.elements.password.value;\n  const auth = getAuth();\n  userName = name;\n\n  if (password.value === '' || email.value === '') {\n    alert('Всі поля повинні бути заповненні!');\n  } else if (submitBtn.classList.contains('Js-signIn-btn')) {\n    signInWithEmailAndPassword(auth, email, password)\n      .then(resp => {\n        bdForm.classList.add('is-hidden');\n        Notiflix.Notify.success(`\nWelcome back, ${name}`);\n      })\n      .catch(err => console.log(err))\n      .finally(() => {\n        form.reset();\n      });\n    profileBtn.classList.remove('is-hidden');\n    profileName.textContent = name;\n    signUpBtnheder.classList.add('is-hidden');\n    signOutBtn.classList.add('is-hidden');\n    bdForm.classList.add('is-hidden');\n    return;\n  }\n\n  createUserWithEmailAndPassword(auth, email, password)\n    .then(userCredential => {\n      const user = userCredential.user;\n      const userId = user.uid;\n      writeUserData(userId, name, email);\n      profileBtn.classList.remove('is-hidden');\n      profileName.textContent = name;\n      signUpBtnheder.classList.add('is-hidden');\n      signOutBtn.classList.add('is-hidden');\n        bdForm.classList.add('is-hidden');\n    })\n    .catch(error => {\n      console.log(error.code);\n      if (error.code === 'auth/email-already-in-use') {\n        Notiflix.Notify.failure('email already in use');\n      }\n      else if (error.code === 'auth/weak-password') {\n        Notiflix.Notify.failure('Weak password')\n      }\n      console.log(error.messag);\n    })\n    .finally(() => {\n      form.reset();\n    });\n\n}\n\nfunction onClose() {\n  bdForm.classList.add('is-hidden');\n  if (!signOutBtn.classList.contains('is-hidden')) {\n    signOutBtn.classList.add('is-hidden')\n  }\n}\n"],"names":["$eyjy7","parcelRequire","$947111cd2f727c58$var$form","document","querySelector","$947111cd2f727c58$var$signInEl","$947111cd2f727c58$var$submitBtn","$947111cd2f727c58$var$signUpEl","$947111cd2f727c58$var$bdForm","$947111cd2f727c58$var$closeBtn","$947111cd2f727c58$var$profileBtn","$947111cd2f727c58$var$signUpBtnheder","$947111cd2f727c58$var$profileName","$947111cd2f727c58$var$signOutBtn","addEventListener","event","preventDefault","name","currentTarget","elements","value","email","password","auth","getAuth","$947111cd2f727c58$var$userName","alert","classList","contains","signInWithEmailAndPassword","then","resp","add","$parcel$interopDefault","$7Y9D8","Notify","success","catch","err","console","log","finally","reset","remove","textContent","createUserWithEmailAndPassword","userCredential","userId","user","uid","$2ix2C","writeUserData","error","code","failure","messag","e"],"version":3,"file":"autorithation.ca16338f.js.map"}