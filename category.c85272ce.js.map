{"mappings":"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","sources":["src/js/category.js","src/js/api/categoryList.js","src/js/api/categoryBooks.js"],"sourcesContent":["import getAllCategory from './api/categoryList';\nimport getAllBooks from './api/categoryBooks';\nimport { bookItemMarcup } from './bookItemMarcup';\nimport getBooks from './api/topBooks';\nimport { Loader } from './loaderClass';\n\nconst refs = {\n  categoryListEl: document.querySelector('.js-list-categories'),\n  booksEl: document.querySelector('.js-all-books'),\n  categoryNameEl: document.querySelector('.js-category-name'),\n  sectionCategory: document.querySelector('.category > .container'),\n};\n\n// Function for marcup categories on sidebar\ngetAllCategory().then(data => {\n  refs.categoryListEl.insertAdjacentHTML(\n    'beforeend',\n    markupAllCategories(data)\n  );\n});\n\nrefs.categoryListEl.addEventListener('click', onClick);\nrefs.booksEl.addEventListener('click', onClickButton);\n\n/**\n * After click on 'categoryListEl'\n * @param {HTMLUListElement} e\n * @returns null\n */\nasync function onClick(e) {\n  if (e.target.classList.contains('js-category')) {\n    changeClassCurrentCategory(e.target);\n    scrollUp();\n    markupNameCategory(e.target.textContent);\n\n    refs.booksEl.innerHTML = '';\n    const loader = new Loader(refs.sectionCategory, 'loader-container');\n    loader.show();\n\n    refs.booksEl.innerHTML = markupBooks(\n      await getAllBooks(e.target.textContent)\n    );\n\n    loader.hide();\n\n    refs.booksEl.classList.add('category__list');\n  } else if (e.target.classList.contains('js-main-category')) {\n    changeClassCurrentCategory(e.target);\n    scrollUp();\n    markupNameCategory('Best Sellers Books');\n\n    refs.booksEl.innerHTML = '';\n\n    getBooks();\n  }\n\n  return;\n}\n\n/**\n * Markup categories in sidebar\n * @param {Array} arr\n * @returns string\n */\nfunction markupAllCategories(arr) {\n  return arr\n    .map(\n      ({ list_name }) =>\n        `<li class=\"categories__item js-category\">${list_name}</li>`\n    )\n    .join('');\n}\n\n/**\n * After click on category in sidebar, scroll to up (mobile, tablet)\n */\nfunction scrollUp() {\n  if (window.innerWidth < 1440) {\n    refs.categoryNameEl.scrollIntoView({\n      behavior: 'smooth',\n    });\n  }\n}\n\n/**\n * Change current category after click\n * @param {HTMLLIElement} target\n */\nfunction changeClassCurrentCategory(target) {\n  refs.categoryListEl\n    .querySelector('.categories__current')\n    .classList.remove('categories__current');\n  target.classList.add('categories__current');\n}\n\n/**\n * Markup books in main content\n * @param {Array} data\n * @returns String\n */\nfunction markupBooks(data) {\n  return data.map(bookItemMarcup).join('');\n}\n\n/**\n * Markup name category in main content\n * @param {String} name\n */\nfunction markupNameCategory(name) {\n  const categoryName = name.split(' ');\n  const categoryNameOne = categoryName\n    .splice(0, categoryName.length - 1)\n    .join(' ');\n  const categoryNameTwo = categoryName.at(-1);\n\n  refs.categoryNameEl.textContent = categoryNameOne + ' ';\n  refs.categoryNameEl.insertAdjacentHTML(\n    'beforeend',\n    `<span class=\"category_name category__name--violet\">${categoryNameTwo}</span>`\n  );\n}\n\n/**\n * After click on button \"See more\", marcup all books with cirrent category on main contant\n * @param {HTMLUListElement} e\n * @returns null\n */\nasync function onClickButton(e) {\n  if (!e.target.classList.contains('js-action-button')) {\n    return;\n  }\n  const nameCategory = e.target.dataset.categoryname;\n\n  if (window.innerWidth < 1440) {\n    scrollUp();\n  } else {\n    window.scroll({\n      top: 0,\n      behavior: 'smooth',\n    });\n  }\n\n  markupNameCategory(nameCategory);\n\n  [...refs.categoryListEl.children].forEach(e => {\n    if (e.textContent === nameCategory) {\n      e.classList.add('categories__current');\n    } else if (e.classList.contains('categories__current')) {\n      e.classList.remove('categories__current');\n    }\n  });\n  refs.booksEl.innerHTML = markupBooks(await getAllBooks(nameCategory));\n  refs.booksEl.classList.add('category__list');\n}\n","import axios from 'axios';\n\nconst LINK_All_CATEGORY =\n  'https://books-backend.p.goit.global/books/category-list';\n\n/**\n * Get sort array with all categories\n * @returns Array with all categories\n */\nasync function getAllCategory() {\n  const data = (await axios.get(LINK_All_CATEGORY)).data;\n  const sortArr = data.sort((a, b) => a.list_name.localeCompare(b.list_name));\n  return sortArr;\n}\n\nexport default getAllCategory;\n","import axios from 'axios';\n\nconst LINK_ONE_CATEGORY =\n  'https://books-backend.p.goit.global/books/category?category=';\n\n/**\n * Get all books with category\n * @param {String} categoryName\n * @returns Array with books\n */\nasync function getAllBooks(categoryName) {\n  const data = (await axios.get(LINK_ONE_CATEGORY + categoryName)).data;\n  return data;\n}\n\nexport default getAllBooks;\n"],"names":["$bpxeT","parcelRequire","$1b5243cbc9dc9139$var$refs","categoryListEl","document","querySelector","booksEl","categoryNameEl","sectionCategory","$1b5243cbc9dc9139$var$_onClick","$parcel$interopDefault","$2TvXO","mark","_callee","e","loader","target","classList","contains","$1b5243cbc9dc9139$var$changeClassCurrentCategory","$1b5243cbc9dc9139$var$scrollUp","$1b5243cbc9dc9139$var$markupNameCategory","textContent","innerHTML","$7JdID","Loader","show","$1b5243cbc9dc9139$var$markupBooks","$1A4AC","default","_ctx","t0","t1","hide","add","$hYjmn","apply","this","arguments","window","innerWidth","scrollIntoView","behavior","remove","data","map","$bBZkx","bookItemMarcup","join","name","categoryName","split","categoryNameOne","splice","length","categoryNameTwo","at","insertAdjacentHTML","concat","$1b5243cbc9dc9139$var$_onClickButton","e1","nameCategory","dataset","categoryname","scroll","top","$8nrFW","children","forEach","$8qu9v","then","param","list_name","addEventListener","$6228240f3e7f12b2$var$LINK_All_CATEGORY","$6228240f3e7f12b2$var$_getAllCategory","sortArr","$dIxxU","get","sent","sort","a","b","localeCompare","$6228240f3e7f12b2$export$2e2bcd8739ae039","$126cb6a9d9fabe69$var$LINK_ONE_CATEGORY","$126cb6a9d9fabe69$var$_getAllBooks","$126cb6a9d9fabe69$export$2e2bcd8739ae039"],"version":3,"file":"category.c85272ce.js.map"}