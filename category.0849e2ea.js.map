{"mappings":"uNAAA,IAAAA,EAAAC,EAAA,SAKMC,EAAiBC,SAASC,cAAc,uBACxCC,EAAUF,SAASC,cAAc,iBACjCE,EAAiBH,SAASC,cAAc,sBAE9C,EAAAJ,EAAAO,WAAiBC,MAAK,SAAAC,GACpB,IAAMC,EAAUD,EAAKE,MAAK,SAACC,EAAGC,G,OAAMD,EAAEE,UAAUC,cAAcF,EAAEC,U,IAChEZ,EAAec,mBAAmB,YAAiCN,EAOhEO,KAAI,SAAAC,G,IAAGJ,EAASI,EAATJ,U,MAAgB,gCAA0CK,OAAVL,EAAU,Q,IACjEM,KAAK,I,IALVlB,EAAemB,iBAAiB,SAQhC,SAAiBC,GACf,GAA8B,qBAA1BA,EAAEC,OAAOC,UAAU,GACrB,OAEF,IAAMC,EAAeH,EAAEC,OAAOG,YAAYC,MAAM,KAC1CC,EAAkBH,EACrBI,OAAO,EAAGJ,EAAaK,OAAS,GAChCV,KAAK,KACFW,EAAkBN,EAAaO,IAAG,GAExC1B,EAAeoB,YAAcE,EAAkB,IAC/CtB,EAAeU,mBACb,YACA,sDAAsEG,OAAhBY,EAAgB,YAGxE7B,EACGE,cAAc,wBACdoB,UAAUS,OAAO,uBACpBX,EAAEC,OAAOC,UAAUU,IAAI,uBAEvB5B,EAAe6B,eAAe,CAC5BC,SAAU,WAGZC,MA5CA,+DA4C0Bf,EAAEC,OAAOG,aAChClB,MAAK,SAAA8B,G,OAAQA,EAAKC,M,IAClB/B,MAAK,SAAAC,GACJJ,EAAQmC,UAId,SAAqB/B,GACnB,OAAOA,EACJQ,KACC,SAAAC,G,IAAGuB,EAAMvB,EAANuB,OAAQC,EAAUxB,EAAVwB,WAAYC,EAAKzB,EAALyB,M,MAAY,wEAEiBxB,OAApBuB,EAAW,WACfvB,OADwBwB,EAAM,wCAE3BxB,OADHwB,EAAM,8CACIxB,OAAPsB,EAAO,qB,IAIvCrB,KAAK,G,CAfgBwB,CAAYnC,E,kLCtCtCoC,EATA,WACE,OAAOR,MAHP,2DAGgC7B,MAAK,SAAA8B,GACnC,IAAKA,EAAKQ,GACR,MAAM,IAAIC,MAAMT,EAAKU,YAEvB,OAAOV,EAAKC,M","sources":["src/js/category.js","src/js/api/allCategory.js"],"sourcesContent":["import getAllCategory from './api/allCategory';\n\nconst LINK_ONE_CATEGORY =\n  'https://books-backend.p.goit.global/books/category?category=';\n\nconst categoryListEl = document.querySelector('.js-list-categories');\nconst booksEl = document.querySelector('.js-all-books');\nconst categoryNameEl = document.querySelector('.js-category-name');\n\ngetAllCategory().then(data => {\n  const sortArr = data.sort((a, b) => a.list_name.localeCompare(b.list_name));\n  categoryListEl.insertAdjacentHTML('beforeend', markupAllCategories(sortArr));\n});\n\ncategoryListEl.addEventListener('click', onClick);\n\nfunction markupAllCategories(arr) {\n  return arr\n    .map(({ list_name }) => `<li class=\"categories__item\">${list_name}</li>`)\n    .join('');\n}\n\nfunction onClick(e) {\n  if (e.target.classList[0] !== 'categories__item') {\n    return;\n  }\n  const categoryName = e.target.textContent.split(' ');\n  const categoryNameOne = categoryName\n    .splice(0, categoryName.length - 1)\n    .join(' ');\n  const categoryNameTwo = categoryName.at(-1);\n\n  categoryNameEl.textContent = categoryNameOne + ' ';\n  categoryNameEl.insertAdjacentHTML(\n    'beforeend',\n    `<span class=\"category_name category__name--violet\">${categoryNameTwo}</span>`\n  );\n\n  categoryListEl\n    .querySelector('.categories__current')\n    .classList.remove('categories__current');\n  e.target.classList.add('categories__current');\n\n  categoryNameEl.scrollIntoView({\n    behavior: 'smooth',\n  });\n\n  fetch(LINK_ONE_CATEGORY + e.target.textContent)\n    .then(resp => resp.json())\n    .then(data => {\n      booksEl.innerHTML = markupBooks(data);\n    });\n}\n\nfunction markupBooks(data) {\n  return data\n    .map(\n      ({ author, book_image, title }) => `\n  <li class=\"category__book\">\n    <img class=\"category__img\" src=\"${book_image}\" alt=\"${title}\">\n    <h2 class=\"category__title\">${title}</h2>\n    <h3 class=\"category__subtitle\">${author}</h3>\n  </li>\n  `\n    )\n    .join('');\n}\n","const LINK_All_CATEGORY =\n  'https://books-backend.p.goit.global/books/category-list';\n\nfunction getAllCategory() {\n  return fetch(LINK_All_CATEGORY).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\nexport default getAllCategory;\n"],"names":["$k0apk","parcelRequire","$1b5243cbc9dc9139$var$categoryListEl","document","querySelector","$1b5243cbc9dc9139$var$booksEl","$1b5243cbc9dc9139$var$categoryNameEl","default","then","data","sortArr","sort","a","b","list_name","localeCompare","insertAdjacentHTML","map","param","concat","join","addEventListener","e","target","classList","categoryName","textContent","split","categoryNameOne","splice","length","categoryNameTwo","at","remove","add","scrollIntoView","behavior","fetch","resp","json","innerHTML","author","book_image","title","$1b5243cbc9dc9139$var$markupBooks","$e8fbe17851704a95$export$2e2bcd8739ae039","ok","Error","statusText"],"version":3,"file":"category.0849e2ea.js.map"}