{"mappings":"wQAAA,IAAAA,EAAAC,EAAA,S,0BAQMC,EAAOC,SAASC,cAAc,SAC9BC,EAAWF,SAASC,cAAc,cAClCE,EAAYH,SAASC,cAAc,aACnCG,EAAWJ,SAASC,cAAc,cAClCI,EAASL,SAASC,cAAc,kBAChCK,EAAWN,SAASC,cAAc,sBAClCM,EAAaP,SAASC,cAAc,kBACpCO,EAAiBR,SAASC,cAAc,uBACxCQ,EAAcT,SAASC,cAAc,oBACrCS,EAAaV,SAASC,cAAc,wBAG1CF,EAAKY,iBAAiB,UAuBtB,SAAkBC,GAChBA,EAAMC,iBACN,IAAMC,EAAOF,EAAMG,cAAcC,SAASF,KAAKG,MACzCC,EAAQN,EAAMG,cAAcC,SAASE,MAAMD,MAC3CE,EAAWP,EAAMG,cAAcC,SAASG,SAASF,MACjDG,GAAO,EAAAvB,EAAAwB,WAGb,GAFWP,EAEY,KAAnBK,EAASF,OAAgC,KAAhBC,EAAMD,MACjCK,MAAM,0CACD,GAAInB,EAAUoB,UAAUC,SAAS,iBAgBtC,OAfA,EAAA3B,EAAA4B,4BAA2BL,EAAMF,EAAOC,GACrCO,MAAK,SAAAC,GACJtB,EAAOkB,UAAUK,IAAI,aACrBC,EAAAC,GAASC,OAAOC,QAAQ,mBACXC,OAALnB,G,IAEToB,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E,IACzBG,SAAQ,WACPvC,EAAKwC,O,IAEThC,EAAWgB,UAAUiB,OAAO,aAC5B/B,EAAYgC,YAAc3B,EAC1BN,EAAee,UAAUK,IAAI,aAC7BlB,EAAWa,UAAUK,IAAI,kBACzBvB,EAAOkB,UAAUK,IAAI,cAIvB,EAAA/B,EAAA6C,gCAA+BtB,EAAMF,EAAOC,GACzCO,MAAK,SAAAiB,GACJ,IACMC,EADOD,EAAeE,KACRC,KACpB,EAAAC,EAAAC,eAAcJ,EAAQ9B,EAAMI,GAC5BX,EAAWgB,UAAUiB,OAAO,aAC5B/B,EAAYgC,YAAc3B,EAC1BN,EAAee,UAAUK,IAAI,aAC7BlB,EAAWa,UAAUK,IAAI,aACvBvB,EAAOkB,UAAUK,IAAI,Y,IAExBM,OAAM,SAAAe,GACLb,QAAQC,IAAIY,EAAMC,MACC,8BAAfD,EAAMC,KACRrB,EAAAC,GAASC,OAAOoB,QAAQ,wBAEF,uBAAfF,EAAMC,MACbrB,EAAAC,GAASC,OAAOoB,QAAQ,iBAE1Bf,QAAQC,IAAIY,EAAMG,O,IAEnBd,SAAQ,WACPvC,EAAKwC,O,OAzEXrC,EAASS,iBAAiB,SAc1B,SAAkB0C,GAChBA,EAAExC,iBACFV,EAAUoB,UAAUK,IAAI,iBACxBzB,EAAUsC,YAAc,UACxBrC,EAASmB,UAAUiB,OAAO,UAC1BtC,EAASqB,UAAUK,IAAI,S,IAlBzBxB,EAASO,iBAAiB,SAI1B,SAAkB0C,GAChBA,EAAExC,iBAEFV,EAAUoB,UAAUiB,OAAO,iBAC3BrC,EAAUsC,YAAc,UACxBrC,EAASmB,UAAUK,IAAI,UACvB1B,EAASqB,UAAUiB,OAAO,S,IAT5BlC,EAASK,iBAAiB,SA4E1B,WACEN,EAAOkB,UAAUK,IAAI,aAChBlB,EAAWa,UAAUC,SAAS,cACjCd,EAAWa,UAAUK,IAAI,Y","sources":["src/js/autorithation.js"],"sourcesContent":["import {\n  getAuth,\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n} from 'firebase/auth';\nimport { writeUserData } from './firebase';\nimport Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nconst signInEl = document.querySelector('.js-signIn');\nconst submitBtn = document.querySelector('.btn_form');\nconst signUpEl = document.querySelector('.js-signUp');\nconst bdForm = document.querySelector('.backdrop_form');\nconst closeBtn = document.querySelector('.js-modal-closeBtn');\nconst profileBtn = document.querySelector('.Js-profileBtn');\nconst signUpBtnheder = document.querySelector('.Js-signUpBtn-heder');\nconst profileName = document.querySelector('.js-profile-name');\nconst signOutBtn = document.querySelector('.js-logOutBtn-header');\n\n\nform.addEventListener('submit', onSubmit);\nsignInEl.addEventListener('click', onSignIn);\nsignUpEl.addEventListener('click', onSignUp);\ncloseBtn.addEventListener('click', onClose);\nlet userName = '';\n\nfunction onSignUp(e) {\n  e.preventDefault();\n\n  submitBtn.classList.remove('Js-signIn-btn');\n  submitBtn.textContent = 'SIGN UP';\n  signUpEl.classList.add('curent');\n  signInEl.classList.remove('curent');\n}\n\nfunction onSignIn(e) {\n  e.preventDefault();\n  submitBtn.classList.add('Js-signIn-btn');\n  submitBtn.textContent = 'SIGN IN';\n  signUpEl.classList.remove('curent');\n  signInEl.classList.add('curent');\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const name = event.currentTarget.elements.name.value;\n  const email = event.currentTarget.elements.email.value;\n  const password = event.currentTarget.elements.password.value;\n  const auth = getAuth();\n  userName = name;\n\n  if (password.value === '' || email.value === '') {\n    alert('Всі поля повинні бути заповненні!');\n  } else if (submitBtn.classList.contains('Js-signIn-btn')) {\n    signInWithEmailAndPassword(auth, email, password)\n      .then(resp => {\n        bdForm.classList.add('is-hidden');\n        Notiflix.Notify.success(`\nWelcome back, ${name}`);\n      })\n      .catch(err => console.log(err))\n      .finally(() => {\n        form.reset();\n      });\n    profileBtn.classList.remove('is-hidden');\n    profileName.textContent = name;\n    signUpBtnheder.classList.add('is-hidden');\n    signOutBtn.classList.add('is-hidden');\n    bdForm.classList.add('is-hidden');\n    return;\n  }\n\n  createUserWithEmailAndPassword(auth, email, password)\n    .then(userCredential => {\n      const user = userCredential.user;\n      const userId = user.uid;\n      writeUserData(userId, name, email);\n      profileBtn.classList.remove('is-hidden');\n      profileName.textContent = name;\n      signUpBtnheder.classList.add('is-hidden');\n      signOutBtn.classList.add('is-hidden');\n        bdForm.classList.add('is-hidden');\n    })\n    .catch(error => {\n      console.log(error.code);\n      if (error.code === 'auth/email-already-in-use') {\n        Notiflix.Notify.failure('email already in use');\n      }\n      else if (error.code === 'auth/weak-password') {\n        Notiflix.Notify.failure('Weak password')\n      }\n      console.log(error.messag);\n    })\n    .finally(() => {\n      form.reset();\n    });\n\n}\n\nfunction onClose() {\n  bdForm.classList.add('is-hidden');\n  if (!signOutBtn.classList.contains('is-hidden')) {\n    signOutBtn.classList.add('is-hidden')\n  }\n}\n"],"names":["$gQOBw","parcelRequire","$8c1bbf63187cbc37$var$form","document","querySelector","$8c1bbf63187cbc37$var$signInEl","$8c1bbf63187cbc37$var$submitBtn","$8c1bbf63187cbc37$var$signUpEl","$8c1bbf63187cbc37$var$bdForm","$8c1bbf63187cbc37$var$closeBtn","$8c1bbf63187cbc37$var$profileBtn","$8c1bbf63187cbc37$var$signUpBtnheder","$8c1bbf63187cbc37$var$profileName","$8c1bbf63187cbc37$var$signOutBtn","addEventListener","event","preventDefault","name","currentTarget","elements","value","email","password","auth","getAuth","alert","classList","contains","signInWithEmailAndPassword","then","resp","add","$parcel$interopDefault","$6JpON","Notify","success","concat","catch","err","console","log","finally","reset","remove","textContent","createUserWithEmailAndPassword","userCredential","userId","user","uid","$iNWLi","writeUserData","error","code","failure","messag","e"],"version":3,"file":"autorithation.29458194.js.map"}