{"mappings":"2MAAA,IAAAA,EAAAC,EAAA,SAEA,MAGMC,EAAiBC,SAASC,cAAc,uBACxCC,EAAUF,SAASC,cAAc,iBACjCE,EAAiBH,SAASC,cAAc,sBAE9C,EAAAJ,EAAAO,WAAiBC,MAAKC,IACpB,MAAMC,EAAUD,EAAKE,MAAK,CAACC,EAAGC,IAAMD,EAAEE,UAAUC,cAAcF,EAAEC,aAChEZ,EAAec,mBAAmB,YAAiCN,EAOhEO,KAAI,EAACH,UAAEA,KAAgB,gCAAgCA,WACvDI,KAAK,IARoE,IAG9EhB,EAAeiB,iBAAiB,SAQhC,SAAiBC,GACf,GAA8B,qBAA1BA,EAAEC,OAAOC,UAAU,GACrB,OAEF,MAAMC,EAAeH,EAAEC,OAAOG,YAAYC,MAAM,KAC1CC,EAAkBH,EACrBI,OAAO,EAAGJ,EAAaK,OAAS,GAChCV,KAAK,KACFW,EAAkBN,EAAaO,IAAG,GAExCxB,EAAekB,YAAcE,EAAkB,IAC/CpB,EAAeU,mBACb,YACA,sDAAsDa,YAGxD3B,EACGE,cAAc,wBACdkB,UAAUS,OAAO,uBACpBX,EAAEC,OAAOC,UAAUU,IAAI,uBAEvB1B,EAAe2B,eAAe,CAC5BC,SAAU,WAGZC,MA5CA,+DA4C0Bf,EAAEC,OAAOG,aAChChB,MAAK4B,GAAQA,EAAKC,SAClB7B,MAAKC,IACJJ,EAAQiC,UAId,SAAqB7B,GACnB,OAAOA,EACJQ,KACC,EAACsB,OAAEA,EAAMC,WAAEA,EAAUC,MAAEA,EAAKC,IAAEA,KAAU,oBAC7BA,2EACqBF,WAAoBC,wCACxBA,8CACGF,wBAIhCrB,KAAK,G,CAfgByB,CAAYlC,EAAK,G,+KCtC3CmC,EATA,WACE,OAAOT,MAHP,2DAGgC3B,MAAK4B,IACnC,IAAKA,EAAKS,GACR,MAAM,IAAIC,MAAMV,EAAKW,YAEvB,OAAOX,EAAKC,MAAM,G","sources":["src/js/category.js","src/js/api/allCategory.js"],"sourcesContent":["import getAllCategory from './api/allCategory';\n\nconst LINK_ONE_CATEGORY =\n  'https://books-backend.p.goit.global/books/category?category=';\n\nconst categoryListEl = document.querySelector('.js-list-categories');\nconst booksEl = document.querySelector('.js-all-books');\nconst categoryNameEl = document.querySelector('.js-category-name');\n\ngetAllCategory().then(data => {\n  const sortArr = data.sort((a, b) => a.list_name.localeCompare(b.list_name));\n  categoryListEl.insertAdjacentHTML('beforeend', markupAllCategories(sortArr));\n});\n\ncategoryListEl.addEventListener('click', onClick);\n\nfunction markupAllCategories(arr) {\n  return arr\n    .map(({ list_name }) => `<li class=\"categories__item\">${list_name}</li>`)\n    .join('');\n}\n\nfunction onClick(e) {\n  if (e.target.classList[0] !== 'categories__item') {\n    return;\n  }\n  const categoryName = e.target.textContent.split(' ');\n  const categoryNameOne = categoryName\n    .splice(0, categoryName.length - 1)\n    .join(' ');\n  const categoryNameTwo = categoryName.at(-1);\n\n  categoryNameEl.textContent = categoryNameOne + ' ';\n  categoryNameEl.insertAdjacentHTML(\n    'beforeend',\n    `<span class=\"category_name category__name--violet\">${categoryNameTwo}</span>`\n  );\n\n  categoryListEl\n    .querySelector('.categories__current')\n    .classList.remove('categories__current');\n  e.target.classList.add('categories__current');\n\n  categoryNameEl.scrollIntoView({\n    behavior: 'smooth',\n  });\n\n  fetch(LINK_ONE_CATEGORY + e.target.textContent)\n    .then(resp => resp.json())\n    .then(data => {\n      booksEl.innerHTML = markupBooks(data);\n    });\n}\n\nfunction markupBooks(data) {\n  return data\n    .map(\n      ({ author, book_image, title, _id }) => `\n  <li data-id=\"${_id}\" class=\"category__book js-book\">\n    <img class=\"category__img\" src=\"${book_image}\" alt=\"${title}\">\n    <h2 class=\"category__title\">${title}</h2>\n    <h3 class=\"category__subtitle\">${author}</h3>\n  </li>\n  `\n    )\n    .join('');\n}\n","const LINK_All_CATEGORY =\n  'https://books-backend.p.goit.global/books/category-list';\n\nfunction getAllCategory() {\n  return fetch(LINK_All_CATEGORY).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\nexport default getAllCategory;\n"],"names":["$3hFzq","parcelRequire","$ea48f741b5bc75f2$var$categoryListEl","document","querySelector","$ea48f741b5bc75f2$var$booksEl","$ea48f741b5bc75f2$var$categoryNameEl","default","then","data","sortArr","sort","a","b","list_name","localeCompare","insertAdjacentHTML","map","join","addEventListener","e","target","classList","categoryName","textContent","split","categoryNameOne","splice","length","categoryNameTwo","at","remove","add","scrollIntoView","behavior","fetch","resp","json","innerHTML","author","book_image","title","_id","$ea48f741b5bc75f2$var$markupBooks","$2643349dfb4bf36e$export$2e2bcd8739ae039","ok","Error","statusText"],"version":3,"file":"category.d90ca190.js.map"}