function t(t){return t&&t.__esModule?t.default:t}var s=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;s.register("lVc5g",(function(e,o){var n=s("4PVUM"),i=s("e5EMj"),l=s("kSibX"),r=s("2iOZk"),a=s("8zDEN"),p=s("3KaUB"),h=s("dZQ1Q"),c=s("8EpWk");const g=document.querySelector(".shoplist__cards"),_=document.querySelector(".shoplist-info"),u=document.querySelector(".shoplist-title");let m=n.default.load("books"),d=1,b=m.length,f=getPagination(b,3);function k(s,e=1){const o=3*(e-1),n=o+3;let m=s.slice(o,n);if(m.length){_.classList.remove("js-empty"),u.style.marginBottom="",removeEventListener("click",$);const s=m.map((({_id:s,book_image:e,author:o,book_image_width:n,book_image_height:g,title:_,list_name:u,description:m,buy_links:[d,b,,,f]})=>`<li class="shopinlist__card data-id="${s}">\n\t\t\t\t\t<div class="shopinlist__block">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class="shopinlist__thumb">\n\t\t\t\t\t\t\t\t<img src="${e}" alt="${u}" class="shopinlist__book-img" width="${n}" height="${g}" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class="shopinlist__book-author">${o}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="shopinlist__wrap">\n\t\t\t\t\t\t\t<h2 class="shopinlist__title">${_}</h2>\n\t\t\t\t\t\t\t<p class="shopinlist__category">${function(t){if(window.innerWidth<=768)return t.length>20?t.substring(0,20)+"...":t;return t}(u)}</p>\n\t\t\t\t\t\t\t<p class="shopinlist__book-description--tablet">${m}</p>\n\t\t\t\t\t\t\t<ul class="shopinlist__shops">\n\t\t\t\t\t\t\t\t<li class="shopinlist__shop">\n\t\t\t\t\t\t\t\t\t<a href="${d.url}" class="shopinlist__shop-link" target="_blank" crossorigin="anonymous" rel="noopener noreferrer" aria-label="Amazon-book site">\n\t\t\t\t\t\t\t\t\t<img srset="${t(l)} 1x, ${t(r)} 2x" src="${t(l)}" alt="${d.name}" class="shopinlist__shop-img" width="48" height="15" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li class="shopinlist__shop">\n\t\t\t\t\t\t\t\t\t<a href="${b.url}" class="shopinlist__shop-link" target="_blank" crossorigin="anonymous" rel="noopener noreferrer" aria-label="Apple-book site">\n\t\t\t\t\t\t\t\t\t<img srset="${t(a)} 1x, ${t(p)} 2x" src="${t(a)}" alt="${b.name}" class="shopinlist__shop-img" width="28" height="27" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li class="shopinlist__shop">\n\t\t\t\t\t\t\t\t\t<a href="${f.url}" class="shopinlist__shop-link" target="_blank" crossorigin="anonymous" rel="noopener noreferrer" aria-label="Book-shop site">\n\t\t\t\t\t\t\t\t\t<img srset="${t(h)} 1x, ${t(c)} 2x" src="${t(h)}" alt="${f.name}" class="shopinlist__shop-img" width="32" height="30" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t<div class="shopinlist__wrap-shops--tablet">\n\t\t\t\t\t\t\t<p class="shopinlist__bookauthor--tablet">${o}</p>\n\t\t\t\t\t\t\t<ul class="shopinlist__shops--tablet">\n\t\t\t\t\t\t\t\t<li class="shopinlist__shop">\n\t\t\t\t\t\t\t\t\t<a href="${d.url}" class="shopinlist__shop-link" target="_blank" crossorigin="anonymous" rel="noopener noreferrer" aria-label="Amazon-book site">\n\t\t\t\t\t\t\t\t\t<img srset="${t(l)} 1x, ${t(r)} 2x" src="${t(l)}" alt="${d.name}" class="shopinlist__shop-img" width="48" height="15" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li class="shopinlist__shop">\n\t\t\t\t\t\t\t\t\t<a href="${b.url}" class="shopinlist__shop-link" target="_blank" crossorigin="anonymous" rel="noopener noreferrer" aria-label="Apple-book site">\n\t\t\t\t\t\t\t\t\t<img srset="${t(a)} 1x, ${t(p)} 2x" src="${t(a)}" alt="${b.name}" class="shopinlist__shop-img" width="28" height="27" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li class="shopinlist__shop">\n\t\t\t\t\t\t\t\t\t<a href="${f.url}" class="shopinlist__shop-link" target="_blank" crossorigin="anonymous" rel="noopener noreferrer" aria-label="Book-shop site">\n\t\t\t\t\t\t\t\t\t<img srset="${t(h)} 1x, ${t(c)} 2x" src="${t(h)}" alt="${f.name}" class="shopinlist__shop-img" width="32" height="30" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button type="button" class="shopinlist__btn" arial-label="Delete the book from shopping list">\n\t\t\t\t\t\t<svg class="shopinlist__btn-icon" width="15" height="15">\n\t\t\t\t\t\t\t<use href="${t(i)}#icon-dump"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button\n\t\t\t\t\t<p class="shopinlist__book-description">${m}</p>\n\t\t\t</li>`)).join("");g.innerHTML=s,console.log(s),g.addEventListener("click",$)}else g.innerHTML="",_.classList.add("js-empty"),u.style.marginBottom="140px"}function $(t){const s=t.target.closest(".shopinlist__btn"),e=f.getCurrentPage();if(!s)return;const o=s.closest(".shopinlist__btn").closest(".shopinlist__card").dataset.id.trim(),i=m.findIndex((t=>t._id===o));m.splice(i,1),n.default.save(books,m),b=m.length,f.setTotalItems(b),f.movePageTo(e),0===g.childNodes.length&&f.movePageTo(d-1)}f.on("beforeMove",(t=>{d=t.page,k(m,t.page)})),k(m,d)})),s.register("4PVUM",(function(t,s){var e,o,n,i;e=t.exports,o="default",n=function(){return l},Object.defineProperty(e,o,{get:n,set:i,enumerable:!0,configurable:!0});var l={save:(t,s)=>{try{const e=JSON.stringify(s);localStorage.setItems(t,e)}catch(t){console.error("Set stutus error:",t.message)}},load:t=>{try{const s=localStorage.getItem(t);return null===s?[]:JSON.parse(s)}catch(t){console.error("Get stutus error:",t.message)}},remove:t=>{try{localStorage.removeItem(t)}catch(t){console.error("Remove stutus error:",t.message)}}}})),s.register("e5EMj",(function(t,e){t.exports=new URL(s("kyEFX").resolve("lp5u4"),import.meta.url).toString()})),s.register("kSibX",(function(t,e){t.exports=new URL(s("kyEFX").resolve("1StS0"),import.meta.url).toString()})),s.register("2iOZk",(function(t,e){t.exports=new URL(s("kyEFX").resolve("igOR5"),import.meta.url).toString()})),s.register("8zDEN",(function(t,e){t.exports=new URL(s("kyEFX").resolve("cLJUC"),import.meta.url).toString()})),s.register("3KaUB",(function(t,e){t.exports=new URL(s("kyEFX").resolve("38YEC"),import.meta.url).toString()})),s.register("dZQ1Q",(function(t,e){t.exports=new URL(s("kyEFX").resolve("iYgR8"),import.meta.url).toString()})),s.register("8EpWk",(function(t,e){t.exports=new URL(s("kyEFX").resolve("kLMPf"),import.meta.url).toString()}));
//# sourceMappingURL=shoplist.dddcf0c8.js.map
