{"mappings":"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","sources":["src/js/category.js","src/js/api/categoryList.js","src/js/api/categoryBooks.js"],"sourcesContent":["import getAllCategory from './api/categoryList';\nimport getAllBooks from './api/categoryBooks';\nimport { topBooksContainerMarcup } from './topBooksContainerMarcup';\nimport { topBooksData } from './testFiles/testData(Yaroslav)';\n\nconst refs = {\n  categoryListEl: document.querySelector('.js-list-categories'),\n  booksEl: document.querySelector('.js-all-books'),\n  categoryNameEl: document.querySelector('.js-category-name'),\n};\n\ngetAllCategory().then(data => {\n  const sortArr = data.sort((a, b) => a.list_name.localeCompare(b.list_name));\n  refs.categoryListEl.insertAdjacentHTML(\n    'beforeend',\n    markupAllCategories(sortArr)\n  );\n});\n\nrefs.categoryListEl.addEventListener('click', onClick);\n\nasync function onClick(e) {\n  if (e.target.classList.contains('js-category')) {\n    changeClassCurrentCategory(e.target);\n    scrollUp();\n    markupNameCategory(e.target.textContent);\n\n    refs.booksEl.innerHTML = markupBooks(\n      await getAllBooks(e.target.textContent)\n    );\n    refs.booksEl.classList.add('category__list');\n  } else if (e.target.classList.contains('js-main-category')) {\n    changeClassCurrentCategory(e.target);\n    scrollUp();\n    markupNameCategory('Best Sellers Books');\n\n    refs.booksEl.innerHTML = topBooksData\n      .map(category => topBooksContainerMarcup(category, refs.booksEl))\n      .join('');\n\n    refs.booksEl.classList.remove('category__list');\n  }\n\n  return;\n}\n/**\n * Markup categories in sidebar\n * @param {Array} arr\n * @returns string\n */\nfunction markupAllCategories(arr) {\n  return arr\n    .map(\n      ({ list_name }) =>\n        `<li class=\"categories__item js-category\">${list_name}</li>`\n    )\n    .join('');\n}\n\nfunction scrollUp() {\n  if (window.innerWidth < 1440) {\n    refs.categoryNameEl.scrollIntoView({\n      behavior: 'smooth',\n    });\n  }\n}\n\nfunction changeClassCurrentCategory(target) {\n  refs.categoryListEl\n    .querySelector('.categories__current')\n    .classList.remove('categories__current');\n  target.classList.add('categories__current');\n}\n\n/**\n * Markup books in main content\n * @param {Array} data\n * @returns String\n */\nfunction markupBooks(data) {\n  return data\n    .map(\n      ({ author, book_image, title, _id }) => `\n  <li data-id=\"${_id}\" class=\"category__book js-book\">\n    <img class=\"category__img\" src=\"${book_image}\" alt=\"${title}\">\n    <h2 class=\"category__title\">${title}</h2>\n    <h3 class=\"category__subtitle\">${author}</h3>\n  </li>\n  `\n    )\n    .join('');\n}\n\n/**\n * Markup name category in main content\n * @param {String} name\n */\nfunction markupNameCategory(name) {\n  const categoryName = name.split(' ');\n  const categoryNameOne = categoryName\n    .splice(0, categoryName.length - 1)\n    .join(' ');\n  const categoryNameTwo = categoryName.at(-1);\n\n  refs.categoryNameEl.textContent = categoryNameOne + ' ';\n  refs.categoryNameEl.insertAdjacentHTML(\n    'beforeend',\n    `<span class=\"category_name category__name--violet\">${categoryNameTwo}</span>`\n  );\n}\n\n// ===================test=========================\nrefs.booksEl.addEventListener('click', test);\n\nasync function test(e) {\n  if (!e.target.classList.contains('js-action-button')) {\n    return;\n  }\n  const nameCategory = e.target.dataset.categoryname;\n\n  refs.categoryNameEl.scrollIntoView({\n    behavior: 'smooth',\n  });\n\n  markupNameCategory(nameCategory);\n\n  [...refs.categoryListEl.children].forEach(e => {\n    if (e.textContent === nameCategory) {\n      e.classList.add('categories__current');\n    } else if (e.classList.contains('categories__current')) {\n      e.classList.remove('categories__current');\n    }\n  });\n\n  refs.booksEl.innerHTML = markupBooks(await getAllBooks(nameCategory));\n  refs.booksEl.classList.add('category__list');\n}\n","import axios from 'axios';\n\nconst LINK_All_CATEGORY =\n  'https://books-backend.p.goit.global/books/category-list';\n\n/**\n * Get array with all categories\n * @returns Array\n */\nfunction getAllCategory() {\n  return axios.get(LINK_All_CATEGORY).then(resp => resp.data);\n}\n\nexport default getAllCategory;\n","import axios from 'axios';\n\nconst LINK_ONE_CATEGORY =\n  'https://books-backend.p.goit.global/books/category?category=';\n\n/**\n * Get all books with category\n * @param {String} categoryName\n * @returns Array with books\n */\nasync function getAllBooks(categoryName) {\n  return axios.get(LINK_ONE_CATEGORY + categoryName).then(resp => resp.data);\n}\n\nexport default getAllBooks;\n"],"names":["$bpxeT","parcelRequire","$1b5243cbc9dc9139$var$refs","categoryListEl","document","querySelector","booksEl","categoryNameEl","$1b5243cbc9dc9139$var$_onClick","$parcel$interopDefault","$2TvXO","mark","_callee","e","target","classList","contains","$1b5243cbc9dc9139$var$changeClassCurrentCategory","$1b5243cbc9dc9139$var$scrollUp","$1b5243cbc9dc9139$var$markupNameCategory","textContent","$1b5243cbc9dc9139$var$markupBooks","$1A4AC","default","innerHTML","_ctx","t0","t1","add","$awctj","topBooksData","map","category","$lljKj","topBooksContainerMarcup","join","remove","apply","this","arguments","window","innerWidth","scrollIntoView","behavior","data","param","author","book_image","title","_id","concat","name","categoryName","split","categoryNameOne","splice","length","categoryNameTwo","at","insertAdjacentHTML","$1b5243cbc9dc9139$var$_test","e1","nameCategory","dataset","categoryname","$8nrFW","children","forEach","$8qu9v","then","sortArr","sort","a","b","list_name","localeCompare","addEventListener","$dIxxU","$6228240f3e7f12b2$export$2e2bcd8739ae039","get","resp","$126cb6a9d9fabe69$var$LINK_ONE_CATEGORY","$126cb6a9d9fabe69$var$_getAllBooks","$126cb6a9d9fabe69$export$2e2bcd8739ae039"],"version":3,"file":"category.f01a67f4.js.map"}