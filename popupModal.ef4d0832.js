!function(){function e(e){return e&&e.__esModule?e.default:e}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;t.register("5uR6A",(function(n,o){var r=t("bpxeT"),s=t("2TvXO"),a=t("5McxV");t("c5LOL");var i=new(0,a.AxiosApi),u="books",c=document.createElement("div"),l=document.querySelector(".js-all-books"),p=[],d=null;function f(){return(f=e(r)(e(s).mark((function t(n){var o,r,a,u;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.target.parentElement.classList.contains("js-book")){e.next=3;break}return e.abrupt("return");case 3:return d=n.target.parentElement.dataset.id,o=m(d)?"REMOVE FROM THE SHOPPING LIST":"ADD TO SHOPPING LIST",console.log(o),e.prev=6,e.next=9,i.getShops(d);case 9:r=e.sent,a=r.data,c.innerHTML=v(a),document.body.appendChild(c),u=c.querySelector(".js-add-storage"),console.dir(u),u.addEventListener("click",(function(e){b(d)})),c.querySelector(".js-popup-close").addEventListener("click",g),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),console.log(e.t0);case 23:case"end":return e.stop()}}),t,null,[[6,20]])})))).apply(this,arguments)}function v(e){var t,n,o=e.author,r=e.book_image,s=e.title,a=e.buy_links,i=(e.list_name,e.description);return'<div class="popup-backdrop">\n  <div class="js-popup popup__body">\n  <div class="popup__container">\n  <button  class="js-popup-close btn__close" type="button">\n        <svg width="16" height="15"></svg>\n        <use href="./images/sprite.svg#icon-x-close"></use>\n        </svg>\n    </button>\n    <div class="popup-book">\n    <div class="popup-book__thumb">\n        <img class="popup-book__img" src="'.concat(r,'" alt="').concat(s,'">\n        </div>\n    <div class="popup-book__info"\n        <h2>').concat(s,"</h2>\n        <h3>").concat(o,"</h3>\n        <p>").concat(i,'</p>\n        <ul class="modal__shops-link">').concat((t=a.filter((function(e){var t=e.name;return"Amazon"===t||"Apple Books"===t||"Bookshop"===t})),n=t.map((function(e){var t=e.name,n=e.url;return'  <li>\n                <a href="'.concat(n,'" target="_blank" rel="noopener noreferrer nofollow">\n                    <img src="" alt="').concat(t,'">\n                </a>\n            </li>')})).join(""),n),'</ul>\n        </div>\n    </div>\n    <div>\n        <button type="button" class="action-button js-add-storage">add to shoping list</button>\n        <p class="popup__text">text</p>\n    </div>\n    </div>\n    </div>\n    </div>')}function g(e){e.target&&(document.body.removeChild(c),document.removeEventListener("keyup",h))}function b(e){if(m(e))return t=e,n=(n=JSON.parse(localStorage.getItem(u))).filter((function(e){return e!==t})),void localStorage.setItem(u,JSON.stringify(n));var t,n;p.push(e),localStorage.setItem(u,JSON.stringify(p)),console.log(p)}l.addEventListener("click",(function(e){return f.apply(this,arguments)}));var h=function(e){"Escape"===e.key&&(document.body.removeChild(c),document.removeEventListener("keyup",h))};function m(e){var t;return!!(p=null!==(t=JSON.parse(localStorage.getItem(u)))&&void 0!==t?t:[]).includes(e)}document.addEventListener("keydown",h)})),t.register("5McxV",(function(n,o){var r,s,a,i;r=n.exports,s="AxiosApi",a=function(){return b},Object.defineProperty(r,s,{get:a,set:i,enumerable:!0,configurable:!0});var u=t("bpxeT"),c=t("8MBJY"),l=t("4KMWL"),p=t("8MQK7"),d=t("a2hTj"),f=t("2TvXO"),v=t("dIxxU"),g=new WeakMap,b=function(){"use strict";function t(){e(c)(this,t),e(p)(this,g,{writable:!0,value:"https://books-backend.p.goit.global/books/"})}return e(d)(t,[{key:"getShops",value:function(t){var n=this;return e(u)(e(f).mark((function o(){var r,s;return e(f).wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r="".concat(e(l)(n,g)).concat(t),o.next=3,v.default.get(r);case 3:return s=o.sent,o.abrupt("return",s);case 5:case"end":return o.stop()}}),o)})))()}}]),t}()})),t.register("4KMWL",(function(e,n){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){var n=o.default(e,t,"get");return r.default(e,n)};var o=s(t("1UHsN")),r=s(t("ffZzF"));function s(e){return e&&e.__esModule?e:{default:e}}})),t.register("1UHsN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),t.register("ffZzF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),t.register("8MQK7",(function(e,n){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){r.default(e,t),t.set(e,n)};var o,r=(o=t("5k7tO"))&&o.__esModule?o:{default:o}})),t.register("5k7tO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),t.register("c5LOL",(function(e,t){}))}();
//# sourceMappingURL=popupModal.ef4d0832.js.map
