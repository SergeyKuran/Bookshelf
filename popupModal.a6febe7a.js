var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;e.register("100X1",(function(n,t){var o=e("2OfAl");e("kH8nr");const s=new(0,o.AxiosApi),i="books",r=document.createElement("div"),l=document.querySelector(".js-all-books");let a=[],c=null;function p(e){e.target&&(document.body.removeChild(r),document.removeEventListener("keyup",d))}l.addEventListener("click",(async function(n){if(!n.target.parentElement.classList.contains("js-book"))return;c=n.target.parentElement.dataset.id;let t=u(c)?"REMOVE FROM THE SHOPPING LIST":"ADD TO SHOPPING LIST";console.log(t);try{const n=(await s.getShops(c)).data;r.innerHTML=function({author:n,book_image:t,title:o,buy_links:s,list_name:i,description:r}){return`<div class="popup-backdrop">\n  <div class="js-popup popup__body">\n  <div class="popup__container">\n  <button  class="js-popup-close btn__close" type="button">\n    <img src="${new URL(e("abjTm"))}">\n    </button>\n    <div class="popup-book">\n    <div class="popup-book__thumb">\n        <img class="popup-book__img" src="${t}" alt="${o}">\n        </div>\n    <div class="popup-book__info"\n        <h2>${o}</h2>\n        <h3>${n}</h3>\n        <p>${r}</p>\n        <ul class="modal__shops-link">${function(e){const n=e.filter((({name:e})=>"Amazon"===e||"Apple Books"===e||"Bookshop"===e));return n.map((({name:e,url:n})=>`  <li>\n                <a href="${n}" target="_blank" rel="noopener noreferrer nofollow">\n                    <img src="" alt="${e}">\n                </a>\n            </li>`)).join("")}(s)}</ul>\n        </div>\n    </div>\n    <div>\n        <button type="button" class="action-button js-add-storage">add to shoping list</button>\n        <p class="popup__text">text</p>\n    </div>\n    </div>\n    </div>\n    </div>`}(n),document.body.appendChild(r);const t=r.querySelector(".js-add-storage");console.dir(t),t.addEventListener("click",(e=>{!function(e){if(u(e))return void function(e){let n=JSON.parse(localStorage.getItem(i));n=n.filter((n=>n!==e)),localStorage.setItem(i,JSON.stringify(n))}(e);a.push(e),localStorage.setItem(i,JSON.stringify(a)),console.log(a)}(c)}));r.querySelector(".js-popup-close").addEventListener("click",p)}catch(e){console.log(e)}}));const d=e=>{"Escape"===e.key&&(document.body.removeChild(r),document.removeEventListener("keyup",d))};function u(e){return a=JSON.parse(localStorage.getItem(i))??[],!!a.includes(e)}document.addEventListener("keydown",d)})),e.register("2OfAl",(function(n,t){var o,s,i,r;o=n.exports,s="AxiosApi",i=function(){return a},Object.defineProperty(o,s,{get:i,set:r,enumerable:!0,configurable:!0});var l=e("2shzp");class a{#e="https://books-backend.p.goit.global/books/";async getShops(e){const n=`${this.#e}${e}`;return await l.default.get(n)}}})),e.register("kH8nr",(function(e,n){})),e.register("abjTm",(function(n,t){n.exports=new URL(e("kyEFX").resolve("d81E4"),import.meta.url).toString()}));
//# sourceMappingURL=popupModal.a6febe7a.js.map
