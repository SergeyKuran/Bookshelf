{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,oDAIMC,EAAO,CACXC,GAAIC,SAASC,cAAc,iBAC3BC,gBAAiBF,SAASC,cAAc,2BAGpCE,EAAiB,uDACnBC,GAAgB,E,SAELC,I,OAAAC,EAAQC,MAAAC,KAAAC,U,UAARH,I,OAAAA,EAAfI,EAAAd,EAAA,CAAAc,EAAAC,GAAAC,MAAA,SAAAC,I,IACQC,EAIEC,EAEAC,E,yEANFF,EAAS,IAAI,EAAAG,EAAAC,QAAOpB,EAAKI,gBAAiB,oB,SAG9CY,EAAOK,O,UACa,EAAAC,EAAAC,YAAW,GAAiBC,OAAdnB,I,OAA5BY,EAAKQ,EAAAC,KAELR,EAAQD,EAAMU,IAAIC,EAAAC,yBAAyBC,KAAK,IAEtD9B,EAAKC,GAAG8B,UAAUC,OAAO,kBACzBhC,EAAKC,GAAGgC,UAAYf,E,kDAEpBgB,QAAQC,IAAGV,EAAAW,I,yBAEP9B,IACF+B,EAAUC,OACVhC,GAAgB,GAElBU,EAAOsB,O,8EAlBY7B,MAAAC,KAAAC,U,CAsBvB,IAAM0B,EAAY,IAAI,EAAAlB,EAAAC,QACpBlB,SAASC,cAAc,UACvB,kBAEFI,I,IAEAgC,EAAehC,C,uFCxCf,IAAAT,EAAAC,EAAA,S,mCAQeyC,EAAWC,G,OAAXC,EAAUjC,MAAAC,KAAAC,U,UAAV+B,I,OAAAA,EAAf9B,EAAAd,EAAA,CAAAc,EAAAC,GAAAC,MAAA,SAAAC,EAA0B0B,G,IAElBE,EACAC,E,kFADiBC,EAAAC,QAAMC,IAAI,GAAQvB,OAALiB,I,cAA9BE,EAAQlB,EAAAC,K,SACKiB,EAASC,K,cAAtBA,EAAInB,EAAAC,K,kBACHkB,G,4CAJgBnC,MAAAC,KAAAC,U,qGCRzB,IAAAqC,EAAAjD,EAAA,SAgBMkD,EAA0B,SAAAC,EAAuBC,G,IAApBC,EAASF,EAATE,UAAWnC,EAAKiC,EAALjC,MAC5C,MAAO,8EAGgCO,OADC4B,EAAU,kDAEoD5B,OAd3E,SAAAP,G,OAC3BA,EAAMU,KAAI,SAAA0B,G,OAAQ,EAAAL,EAAAM,gBAAeD,E,IAAOvB,KAAK,G,CAYNyB,CAAqBtC,GAAO,iHAC6CO,OAAV4B,EAAU,6B,4FChBlH,IAAMI,EAAiB,SAAAN,G,IAAGO,EAAMP,EAANO,OAAQC,EAAUR,EAAVQ,WAAYC,EAAKT,EAALS,MAAOC,EAAGV,EAAHU,IACnD,MAAO,mDAE+CpC,OADRoC,EAAI,8DAEZpC,OADgBoC,EAAI,8CACApC,OAApBkC,EAAW,WAGjBlC,OAH0BmC,EAAM,4HAI7BnC,OADHmC,EAAM,8CACInC,OAAPiC,EAAO,iB","sources":["src/js/api/topBooks.js","src/js/api/getRequest.js","src/js/topBooksContainerMarcup.js","src/js/bookItemMarcup.js"],"sourcesContent":["import { getRequest } from '../api/getRequest';\nimport { topBooksContainerMarcup } from '../topBooksContainerMarcup';\nimport { Loader } from '../loaderClass';\n\nconst refs = {\n  ul: document.querySelector('.js-all-books'),\n  sectionCategory: document.querySelector('.category > .container'),\n};\n\nconst URL_TOP_BOOKS = `https://books-backend.p.goit.global/books/top-books?`;\nlet firstLoadPage = true;\n\nasync function getBooks() {\n  const loader = new Loader(refs.sectionCategory, 'loader-container');\n\n  try {\n    loader.show();\n    const books = await getRequest(`${URL_TOP_BOOKS}`);\n\n    const array = books.map(topBooksContainerMarcup).join('');\n\n    refs.ul.classList.remove('category__list');\n    refs.ul.innerHTML = array;\n  } catch (error) {\n    console.log(error);\n  } finally {\n    if (firstLoadPage) {\n      preLoader.hide();\n      firstLoadPage = false;\n    }\n    loader.hide();\n  }\n}\n\nconst preLoader = new Loader(\n  document.querySelector('header'),\n  'preloader-page'\n);\ngetBooks();\n\nexport default getBooks;\n","import axios from 'axios';\n\n/**\n *Робить запит на бекенд\n * @param {link} string посилання на бек\n * @return {data} масив об'єктів\n */\n\nasync function getRequest(link) {\n  // try {\n  const response = await axios.get(`${link}`);\n  const data = await response.data;\n  return data;\n  // } catch (err) {\n  // console.log(err);\n  // }\n}\n\nexport { getRequest };\n","import { bookItemMarcup } from './bookItemMarcup';\n\n/**\n * Повертає строку з розміткою книг\n * @param {Array} books - масив найпопулярніших книг певної категорії\n * @returns {string} строка з розміткою книг\n */\nconst createTopBooksMarcup = books =>\n  books.map(book => bookItemMarcup(book)).join('');\n\n/**\n * Повертає розмітку контейнера з найпопулярнішими книгами певної категорії\n * @param {object}\n * @param {node} - елемент куди буде рендеритись розмітка\n * @returns {string} - розмітка контейнера\n */\nconst topBooksContainerMarcup = ({ list_name, books }, node) => {\n  return `\n<li class=\"category-top-books\">\n  <h2 class=\"category-top-books__title\">${list_name}</h2>\n  <ul class=\"category-top-books__list\">${createTopBooksMarcup(books)}</ul>\n  <button class=\"action-button category-top-books__action-button js-action-button\" data-categoryName=\"${list_name}\">See more</button>\n</li>`;\n};\n\nexport { topBooksContainerMarcup };\n","/**\n * Функція повертає розмітку однієї картки книги\n * @param {object} - об'єкт параметрів книги\n * @returns {string} - розмітка однієї картки книги\n */\nconst bookItemMarcup = ({ author, book_image, title, _id }) => {\n  return `\n  <li class=\"category__book js-book\" data-id=\"${_id}\">\n    <div class=\"category__image-box js-book\" data-id=\"${_id}\">\n      <img class=\"category__img\" src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\">\n      <p class=\"category__image-overlay\">Quick view</p>\n    </div>\n    <h2 class=\"category__title\">${title}</h2>\n    <h3 class=\"category__subtitle\">${author}</h3>\n  </li>`;\n};\n\nexport { bookItemMarcup };\n"],"names":["$bpxeT","parcelRequire","$d1570ebb50d5641b$var$refs","ul","document","querySelector","sectionCategory","$d1570ebb50d5641b$var$URL_TOP_BOOKS","$d1570ebb50d5641b$var$firstLoadPage","$d1570ebb50d5641b$var$getBooks","$d1570ebb50d5641b$var$_getBooks","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","loader","books","array","$7JdID","Loader","show","$jpRhc","getRequest","concat","_ctx","sent","map","$lljKj","topBooksContainerMarcup","join","classList","remove","innerHTML","console","log","t0","$d1570ebb50d5641b$var$preLoader","hide","$d1570ebb50d5641b$export$2e2bcd8739ae039","$e229adb95f5bba98$export$e17608451341e929","link","$e229adb95f5bba98$var$_getRequest","response","data","$dIxxU","default","get","$bBZkx","$f89ae04cdd97d6ec$export$58692f89bd9ad3af","param","node","list_name","book","bookItemMarcup","$f89ae04cdd97d6ec$var$createTopBooksMarcup","$8742b94e8e17f5a7$export$8848aaaa9862edb","author","book_image","title","_id"],"version":3,"file":"topBooks.ca519bb9.js.map"}