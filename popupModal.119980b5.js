function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var o=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;o.register("100X1",(function(e,t){var n=o("2OfAl");o("kH8nr");var r=o("bja6l");const i=new(0,n.AxiosApi),s="books",a=document.createElement("div");a.classList.add("backdrop");const c=document.querySelector(".js-all-books");let u=[],l=null;const p=()=>{try{return JSON.parse(localStorage.getItem(s))??[]}catch(e){return console.error(e),[]}},d=e=>{"Escape"===e.key&&(document.body.removeChild(a),document.removeEventListener("keydown",d))};function g(e){e.target&&(document.body.removeChild(a),document.removeEventListener("keydown",d))}function m(e){e.target.classList.contains("backdrop")&&(document.body.removeChild(a),document.removeEventListener("keydown",d))}function f(e){return p().includes(e)}c.addEventListener("click",(async function(e){if(!e.target.parentElement.classList.contains("js-book"))return;l=e.target.parentElement.dataset.id,document.addEventListener("keydown",d);let t=f(l)?"REMOVE FROM THE SHOPPING LIST":"ADD TO SHOPPING LIST";try{const e=(await i.getShops(l)).data;a.innerHTML=(0,r.createPopupCard)(e,t),document.body.appendChild(a);a.querySelector(".js-add-storage").addEventListener("click",(e=>{!function(e,t){if(t.target.blur(),f(e))return function(e){let t=p().filter((t=>t!==e));localStorage.setItem(s,JSON.stringify(t))}(e),void(t.target.textContent="ADD TO SHOPPING LIST");u.push(e),localStorage.setItem(s,JSON.stringify(u)),t.target.textContent="REMOVE FROM THE SHOPPING LIST"}(l,e)}));a.querySelector(".js-popup-close").addEventListener("click",g),a.addEventListener("click",m)}catch(e){console.log(e)}}))})),o.register("2OfAl",(function(t,n){e(t.exports,"AxiosApi",(function(){return i}));var r=o("2shzp");class i{#e="https://books-backend.p.goit.global/books/";async getShops(e){const t=`${this.#e}${e}`;return await r.default.get(t)}}})),o.register("kH8nr",(function(e,t){})),o.register("bja6l",(function(t,n){e(t.exports,"createPopupCard",(function(){return a}));var r=o("a1pCD"),i=o("9JOcM");const s=["Amazon","Apple Books","Bookshop"];function a({author:e,book_image:t,title:n,buy_links:a,description:c},u){return`\n      <div class="pop-up">\n        <div class="pop-up__book-info">\n          <img class="pop-up__img" src="${t}" alt="${n}">\n          <div class="pop-up__description">\n            <h2 class="pop-up__book-name">${n}</h2>\n            <h2 class="pop-up__book-author">${e}</h2>\n            <p class="pop-up__review">${c||i.descriptionTextDefault}</p>\n            <ul class="stores-list">${l=a,s.map((e=>l.find((({name:t})=>t===e)))).map((({name:e,url:t},o)=>`\n      <li class="stores-list__item">\n        <a href="${t}" target="_blank" rel="noopener noreferrer nofollow">\n          <img src="${new URL(r.bookShopsIcons[o].x1,"file:///src/js/popup/marcupForPopUp.js")}" alt="${e}" width="${r.bookShopsIcons[o].width}" height="${r.bookShopsIcons[o].height}">\n        </a>\n      </li>`)).join("")}</ul>\n          </div>\n        </div>\n        <button class="action-button pop-up__action-button js-add-storage">${u}</button>\n        <p class="pop-up__congratulations">Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>\n        <button class="js-popup-close close-button" type="button">\n          <img src="${new URL(o("abjTm"))}" width="24" height="24">\n        </button>\n      </div>`;var l}})),o.register("a1pCD",(function(n,r){e(n.exports,"bookShopsIcons",(function(){return p}));var i=o("kSibX"),s=o("2iOZk"),a=o("8zDEN"),c=o("3KaUB"),u=o("dZQ1Q"),l=o("8EpWk");const p=[{x1:t(i),x2:t(s),width:"62",height:"19"},{x1:t(a),x1:t(c),width:"33",height:"32"},{x1:t(u),x1:t(l),width:"38",height:"36"}]})),o.register("kSibX",(function(e,t){e.exports=new URL(o("kyEFX").resolve("1StS0"),import.meta.url).toString()})),o.register("2iOZk",(function(e,t){e.exports=new URL(o("kyEFX").resolve("igOR5"),import.meta.url).toString()})),o.register("8zDEN",(function(e,t){e.exports=new URL(o("kyEFX").resolve("cLJUC"),import.meta.url).toString()})),o.register("3KaUB",(function(e,t){e.exports=new URL(o("kyEFX").resolve("38YEC"),import.meta.url).toString()})),o.register("dZQ1Q",(function(e,t){e.exports=new URL(o("kyEFX").resolve("iYgR8"),import.meta.url).toString()})),o.register("8EpWk",(function(e,t){e.exports=new URL(o("kyEFX").resolve("kLMPf"),import.meta.url).toString()})),o.register("9JOcM",(function(t,o){e(t.exports,"descriptionTextDefault",(function(){return n}));const n="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quod possimus provident soluta debitis quisquam earum, veniam alias natus velit sapiente et ipsa animi obcaecati nulla consequuntur nisi inventore, ad odio."})),o.register("abjTm",(function(e,t){e.exports=new URL(o("kyEFX").resolve("d81E4"),import.meta.url).toString()}));
//# sourceMappingURL=popupModal.119980b5.js.map
