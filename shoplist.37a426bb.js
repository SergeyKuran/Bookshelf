!function(){function e(e){return e&&e.__esModule?e.default:e}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;t.register("aqJoK",(function(n,r){var a=t("bpxeT"),o=t("2TvXO"),i=t("4op18"),s=t("dIxxU"),l=t("jcFG7"),c=t("j6slc"),u=document.querySelector(".shopinlist__cards"),d=document.querySelector(".shoplist__info"),f=document.querySelector(".basket__title"),p=document.querySelector("#pagination"),g=i.default.load("books"),h=window.innerWidth<768?4:3;function m(){return m=e(a)(e(o).mark((function t(n){var r,i,l;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.length){t.next=13;break}return b(),r=n.slice(0,h),t.next=5,r.map(function(){var t=e(a)(e(o).mark((function t(n){var r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.default.get("https://books-backend.p.goit.global/books/".concat(n));case 2:return r=e.sent,e.next=5,r.data;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:return i=t.sent,t.next=8,Promise.allSettled(i);case 8:l=t.sent.map((function(e){return e.value})),u.innerHTML=(0,c.default)(l),u.addEventListener("click",y),t.next=14;break;case 13:v();case 14:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function v(){u.innerHTML="",d.classList.add("js-empty"),f.style.marginBottom="140px"}function b(){d.classList.remove("js-empty"),f.style.marginBottom="",removeEventListener("click",y)}function y(e){var t=e.target.closest(".shopinlist__btn"),n=e.target.closest(".shopinlist__card");if(t){var r=(0,l.sliceOnGroup)(g,h);if(g=g.filter((function(e){return e!==n.dataset.id})),i.default.save("books",g),t.style.display="none",g.length){var a=l.pagination.getCurrentPage(),o=1===r[a-1].length?1:0;1===o&&l.pagination.reset(g.length),l.pagination.movePageTo(a-o),g.length<=h&&p.classList.add("disabled")}else v()}}!function(e){m.apply(this,arguments)}(g)}))}();
//# sourceMappingURL=shoplist.37a426bb.js.map
